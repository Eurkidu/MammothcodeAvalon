!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("avalon")):"function"==typeof define&&define.amd?define("mcLib",["avalon"],t):"object"==typeof exports?exports.mcLib=t(require("avalon")):e.mcLib=t(e.avalon)}(this,function(__WEBPACK_EXTERNAL_MODULE_4__){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/content/dist/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var a,i;(function(r){a=[n(4),n(2),n(16),n(17),n(18),n(19),n(20),n(21),n(24),n(27),n(30),n(33),n(39),n(42),n(13),n(45),n(48),n(51),n(36),n(54),n(57),n(7),n(3),n(10),n(60),n(63),n(66),n(69),n(72),n(75),n(78),n(81),n(84),n(87),n(90),n(93),n(96),n(99),n(102),n(105),n(108),n(111),n(114),n(117)],i=function(){avalon.log(r),avalon.log("组件库加载完毕")}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t,n){var a,i;(function(){function n(e){function t(t,n,a,i,r,o){for(;r>=0&&o>r;r+=e){var c=i?i[r]:r;a=n(a,t[c],c,t)}return a}return function(n,a,i,r){a=k(a,r,4);var o=!A(n)&&w.keys(n),c=(o||n).length,s=e>0?0:c-1;return arguments.length<3&&(i=n[o?o[s]:s],s+=e),t(n,a,i,o,s,c)}}function r(e){return function(t,n,a){n=C(n,a);for(var i=V(t),r=e>0?0:i-1;r>=0&&i>r;r+=e)if(n(t[r],r,t))return r;return-1}}function o(e,t,n){return function(a,i,r){var o=0,c=V(a);if("number"==typeof r)e>0?o=r>=0?r:Math.max(r+c,o):c=r>=0?Math.min(r+1,c):r+c+1;else if(n&&r&&c)return r=n(a,i),a[r]===i?r:-1;if(i!==i)return r=t(p.call(a,o,c),w.isNaN),r>=0?r+o:-1;for(r=e>0?o:c-1;r>=0&&c>r;r+=e)if(a[r]===i)return r;return-1}}function c(e,t){var n=P.length,a=e.constructor,i=w.isFunction(a)&&a.prototype||u,r="constructor";for(w.has(e,r)&&!w.contains(t,r)&&t.push(r);n--;)r=P[n],r in e&&e[r]!==i[r]&&!w.contains(t,r)&&t.push(r)}var s=this,l=s._,d=Array.prototype,u=Object.prototype,f=Function.prototype,m=d.push,p=d.slice,h=u.toString,v=u.hasOwnProperty,g=Array.isArray,b=Object.keys,y=f.bind,x=Object.create,$=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=w),t._=w,w.VERSION="1.8.3";var k=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)};case 4:return function(n,a,i,r){return e.call(t,n,a,i,r)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){return null==e?w.identity:w.isFunction(e)?k(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return C(e,t,1/0)};var _=function(e,t){return function(n){var a=arguments.length;if(2>a||null==n)return n;for(var i=1;a>i;i++)for(var r=arguments[i],o=e(r),c=o.length,s=0;c>s;s++){var l=o[s];t&&void 0!==n[l]||(n[l]=r[l])}return n}},S=function(e){if(!w.isObject(e))return{};if(x)return x(e);$.prototype=e;var t=new $;return $.prototype=null,t},I=function(e){return function(t){return null==t?void 0:t[e]}},D=Math.pow(2,53)-1,V=I("length"),A=function(e){var t=V(e);return"number"==typeof t&&t>=0&&D>=t};w.each=w.forEach=function(e,t,n){t=k(t,n);var a,i;if(A(e))for(a=0,i=e.length;i>a;a++)t(e[a],a,e);else{var r=w.keys(e);for(a=0,i=r.length;i>a;a++)t(e[r[a]],r[a],e)}return e},w.map=w.collect=function(e,t,n){t=C(t,n);for(var a=!A(e)&&w.keys(e),i=(a||e).length,r=Array(i),o=0;i>o;o++){var c=a?a[o]:o;r[o]=t(e[c],c,e)}return r},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,n){var a;return a=A(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==a&&-1!==a?e[a]:void 0},w.filter=w.select=function(e,t,n){var a=[];return t=C(t,n),w.each(e,function(e,n,i){t(e,n,i)&&a.push(e)}),a},w.reject=function(e,t,n){return w.filter(e,w.negate(C(t)),n)},w.every=w.all=function(e,t,n){t=C(t,n);for(var a=!A(e)&&w.keys(e),i=(a||e).length,r=0;i>r;r++){var o=a?a[r]:r;if(!t(e[o],o,e))return!1}return!0},w.some=w.any=function(e,t,n){t=C(t,n);for(var a=!A(e)&&w.keys(e),i=(a||e).length,r=0;i>r;r++){var o=a?a[r]:r;if(t(e[o],o,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,a){return A(e)||(e=w.values(e)),("number"!=typeof n||a)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=p.call(arguments,2),a=w.isFunction(t);return w.map(e,function(e){var i=a?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var a,i,r=-(1/0),o=-(1/0);if(null==t&&null!=e){e=A(e)?e:w.values(e);for(var c=0,s=e.length;s>c;c++)a=e[c],a>r&&(r=a)}else t=C(t,n),w.each(e,function(e,n,a){i=t(e,n,a),(i>o||i===-(1/0)&&r===-(1/0))&&(r=e,o=i)});return r},w.min=function(e,t,n){var a,i,r=1/0,o=1/0;if(null==t&&null!=e){e=A(e)?e:w.values(e);for(var c=0,s=e.length;s>c;c++)a=e[c],r>a&&(r=a)}else t=C(t,n),w.each(e,function(e,n,a){i=t(e,n,a),(o>i||i===1/0&&r===1/0)&&(r=e,o=i)});return r},w.shuffle=function(e){for(var t,n=A(e)?e:w.values(e),a=n.length,i=Array(a),r=0;a>r;r++)t=w.random(0,r),t!==r&&(i[r]=i[t]),i[t]=n[r];return i},w.sample=function(e,t,n){return null==t||n?(A(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=C(t,n),w.pluck(w.map(e,function(e,n,a){return{value:e,index:n,criteria:t(e,n,a)}}).sort(function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(a>n||void 0===a)return-1}return e.index-t.index}),"value")};var j=function(e){return function(t,n,a){var i={};return n=C(n,a),w.each(t,function(a,r){var o=n(a,r,t);e(i,a,o)}),i}};w.groupBy=j(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=j(function(e,t,n){e[n]=t}),w.countBy=j(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?p.call(e):A(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:A(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=C(t,n);var a=[],i=[];return w.each(e,function(e,n,r){(t(e,n,r)?a:i).push(e)}),[a,i]},w.first=w.head=w.take=function(e,t,n){return null!=e?null==t||n?e[0]:w.initial(e,e.length-t):void 0},w.initial=function(e,t,n){return p.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t)):void 0},w.rest=w.tail=w.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var T=function(e,t,n,a){for(var i=[],r=0,o=a||0,c=V(e);c>o;o++){var s=e[o];if(A(s)&&(w.isArray(s)||w.isArguments(s))){t||(s=T(s,t,n));var l=0,d=s.length;for(i.length+=d;d>l;)i[r++]=s[l++]}else n||(i[r++]=s)}return i};w.flatten=function(e,t){return T(e,t,!1)},w.without=function(e){return w.difference(e,p.call(arguments,1))},w.uniq=w.unique=function(e,t,n,a){w.isBoolean(t)||(a=n,n=t,t=!1),null!=n&&(n=C(n,a));for(var i=[],r=[],o=0,c=V(e);c>o;o++){var s=e[o],l=n?n(s,o,e):s;t?(o&&r===l||i.push(s),r=l):n?w.contains(r,l)||(r.push(l),i.push(s)):w.contains(i,s)||i.push(s)}return i},w.union=function(){return w.uniq(T(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,a=0,i=V(e);i>a;a++){var r=e[a];if(!w.contains(t,r)){for(var o=1;n>o&&w.contains(arguments[o],r);o++);o===n&&t.push(r)}}return t},w.difference=function(e){var t=T(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,V).length||0,n=Array(t),a=0;t>a;a++)n[a]=w.pluck(e,a);return n},w.object=function(e,t){for(var n={},a=0,i=V(e);i>a;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n},w.findIndex=r(1),w.findLastIndex=r(-1),w.sortedIndex=function(e,t,n,a){n=C(n,a,1);for(var i=n(t),r=0,o=V(e);o>r;){var c=Math.floor((r+o)/2);n(e[c])<i?r=c+1:o=c}return r},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var a=Math.max(Math.ceil((t-e)/n),0),i=Array(a),r=0;a>r;r++,e+=n)i[r]=e;return i};var M=function(e,t,n,a,i){if(!(a instanceof t))return e.apply(n,i);var r=S(e.prototype),o=e.apply(r,i);return w.isObject(o)?o:r};w.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,p.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),a=function(){return M(e,a,t,this,n.concat(p.call(arguments)))};return a},w.partial=function(e){var t=p.call(arguments,1),n=function(){for(var a=0,i=t.length,r=Array(i),o=0;i>o;o++)r[o]=t[o]===w?arguments[a++]:t[o];for(;a<arguments.length;)r.push(arguments[a++]);return M(e,n,this,this,r)};return n},w.bindAll=function(e){var t,n,a=arguments.length;if(1>=a)throw new Error("bindAll must be passed function names");for(t=1;a>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(a){var i=n.cache,r=""+(t?t.apply(this,arguments):a);return w.has(i,r)||(i[r]=e.apply(this,arguments)),i[r]};return n.cache={},n},w.delay=function(e,t){var n=p.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var a,i,r,o=null,c=0;n||(n={});var s=function(){c=n.leading===!1?0:w.now(),o=null,r=e.apply(a,i),o||(a=i=null)};return function(){var l=w.now();c||n.leading!==!1||(c=l);var d=t-(l-c);return a=this,i=arguments,0>=d||d>t?(o&&(clearTimeout(o),o=null),c=l,r=e.apply(a,i),o||(a=i=null)):o||n.trailing===!1||(o=setTimeout(s,d)),r}},w.debounce=function(e,t,n){var a,i,r,o,c,s=function(){var l=w.now()-o;t>l&&l>=0?a=setTimeout(s,t-l):(a=null,n||(c=e.apply(r,i),a||(r=i=null)))};return function(){r=this,i=arguments,o=w.now();var l=n&&!a;return a||(a=setTimeout(s,t)),l&&(c=e.apply(r,i),r=i=null),c}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}},w.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return L&&c(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&c(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,a=Array(n),i=0;n>i;i++)a[i]=e[t[i]];return a},w.mapObject=function(e,t,n){t=C(t,n);for(var a,i=w.keys(e),r=i.length,o={},c=0;r>c;c++)a=i[c],o[a]=t(e[a],a,e);return o},w.pairs=function(e){for(var t=w.keys(e),n=t.length,a=Array(n),i=0;n>i;i++)a[i]=[t[i],e[t[i]]];return a},w.invert=function(e){for(var t={},n=w.keys(e),a=0,i=n.length;i>a;a++)t[e[n[a]]]=n[a];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=_(w.allKeys),w.extendOwn=w.assign=_(w.keys),w.findKey=function(e,t,n){t=C(t,n);for(var a,i=w.keys(e),r=0,o=i.length;o>r;r++)if(a=i[r],t(e[a],a,e))return a},w.pick=function(e,t,n){var a,i,r={},o=e;if(null==o)return r;w.isFunction(t)?(i=w.allKeys(o),a=k(t,n)):(i=T(arguments,!1,!1,1),a=function(e,t,n){return t in n},o=Object(o));for(var c=0,s=i.length;s>c;c++){var l=i[c],d=o[l];a(d,l,o)&&(r[l]=d)}return r},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var a=w.map(T(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(a,t)}}return w.pick(e,t,n)},w.defaults=_(w.allKeys,!0),w.create=function(e,t){var n=S(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),a=n.length;if(null==e)return!a;for(var i=Object(e),r=0;a>r;r++){var o=n[r];if(t[o]!==i[o]||!(o in i))return!1}return!0};var N=function(e,t,n,a){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===i;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,c=t.constructor;if(o!==c&&!(w.isFunction(o)&&o instanceof o&&w.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],a=a||[];for(var s=n.length;s--;)if(n[s]===e)return a[s]===t;if(n.push(e),a.push(t),r){if(s=e.length,s!==t.length)return!1;for(;s--;)if(!N(e[s],t[s],n,a))return!1}else{var l,d=w.keys(e);if(s=d.length,w.keys(t).length!==s)return!1;for(;s--;)if(l=d[s],!w.has(t,l)||!N(e[l],t[l],n,a))return!1}return n.pop(),a.pop(),!0};w.isEqual=function(e,t){return N(e,t)},w.isEmpty=function(e){return null==e?!0:A(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=g||function(e){return"[object Array]"===h.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&v.call(e,t)},w.noConflict=function(){return s._=l,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=I,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var a=Array(Math.max(0,e));t=k(t,n,1);for(var i=0;e>i;i++)a[i]=t(i);return a},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=w.invert(O),E=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",a=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,t):e}};w.escape=E(O),w.unescape=E(B),w.result=function(e,t,n){var a=null==e?void 0:e[t];return void 0===a&&(a=n),w.isFunction(a)?a.call(e):a};var R=0;w.uniqueId=function(e){var t=++R+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+z[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var a=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,r="__p+='";e.replace(a,function(t,n,a,o,c){return r+=e.slice(i,c).replace(q,U),i=c+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?r+="'+\n((__t=("+a+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(t.variable||"obj","_",r)}catch(c){throw c.source=r,c}var s=function(e){return o.call(this,e,w)},l=t.variable||"obj";return s.source="function("+l+"){\n"+r+"}",s},w.chain=function(e){var t=w(e);return t._chain=!0,t};var F=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return m.apply(e,arguments),F(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=d[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],F(this,n)}}),w.each(["concat","join","slice"],function(e){var t=d[e];w.prototype[e]=function(){return F(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},a=[],i=function(){return w}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,n){var a,i;a=[n(4),n(5),n(6),n(7),n(13)],i=function(e,t){var n=function(){};e.component("mc:treeselect",{$dialog_opt:{},getDialogVM:n,getTreeVM:n,$treeVM:{},$dialogVM:{},$tree_opt:{bt:!1,dynamic:!0,hasCheckbox:!1,clickEveryWhere:!0,ajaxConfig:{url:"/SystemManage/GetModuleList",key:"MFId"},idName:"MId",textName:"MName",pidName:"MFId",virtualId:"0",virtualClick:!1,data:[],onEveryClick:function(e,t){}},label:"",trace:!1,labelSize:0,value:"",text:"",$ajaxConfig:{},valid:"",width:200,must:!1,tip:"",isHide:!1,readonly:!1,onInit:n,onClicked:null,onChanged:null,getValue:n,setValue:n,formName:"",submitName:"",fJudge:"",fState:"",isInit:!0,extend:{},isValid:!0,validInfo:"",lindex:-1,trindex:-1,tdindex:-1,doClick:n,validValue:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){"function"==typeof n.$tree_opt.data&&(n.$tree_opt.data=n.$tree_opt.data()),n.$tree_opt&&(n.$tree_opt=$.extend(!0,t.$tree_opt,n.$tree_opt));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.$dialog_opt={size:"large",buttons:[{label:"保存",type:"success",callback:function(t,n){var a=e.$treeVM.getSelect();return a&&(e.trace?e.value=a.trace.join(","):e.value=a.val,e.text=a.text),!0}},{label:"取消",callback:function(){return!0}}]},e.getDialogVM=function(t,n){e.$dialogVM=t},e.getTreeVM=function(t,n){e.$treeVM=t},e.doClick=function(t){e.$dialogVM.showDialog(),e._trigger(t,"clicked")},e.validValue=function(t){e.value=e.value+"",e.validInfo=McAvalon.validata(e.value,e.valid),e.isValid=""===e.validInfo,e.isValid&&e.must===!0&&""===e.value.trim()&&(e.isValid=!1,e.validInfo="该字段为必填字段")},e._trigger=function(t,n){switch(n){case"clicked":"function"==typeof e.onclicked&&e.onClicked(t,e);break;case"changed":"function"==typeof e.onchanged&&e.onChanged(t,e)}},e.getValue=function(){return e.value},e.setValue=function(t,n){void 0!==n&&(e.readonly=!!n),e.text=t},e.$watch("value",function(t,n){e._trigger({newVal:t,oldVal:n},"changed")})},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:treeselect"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(e,t){e.exports='<div class="mc-form-group mc-treeselect-cotar hf" ms-class="mc-error: !isValid" ms-visible="!isHide">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="form-control mc-ipt fp" ms-if="!readonly"\r\n         ms-attr-name="formName" ms-css-width="width"\r\n         ms-click="doClick($event)">{{text}}</div>\r\n    <div class="mc-text-show ftp" ms-if="readonly" ms-attr-name="formName" ms-css-width="width">{{text}}</div>\r\n    <span class="mc-text-valid-info ftp" ms-if="!isValid && validInfo != \'\'">{{validInfo}}</span>\r\n    <div class="mc-text-field-tip" ms-css-padding-left="labelSize" ms-if="tip">{{tip}}</div>\r\n\r\n\r\n    <mc:dialog config="$dialog_opt" title="" on-init="getDialogVM">\r\n        <mc:treebt slot="content" config="$tree_opt" on-init="getTreeVM"></mc:treebt>\r\n    </mc:dialog>\r\n</div>\r\n\r\n'},function(e,t){},function(e,t,n){var a,i;(function(r){toTreeData=function(e,t,n,a,i,o,c,s,l,d,u){n&&n.length&&e.forEach(function(e){var t={};t[a]=e[a];var i=r.findWhere(n,t);if(i){e.checked=!0,c&&(e.disabled=!0);var o=n.indexOf(i);n.splice(o,1)}else s&&(e.disabled=!0)});var f=[];return avalon.each(e,function(e,m){if(u.onPushStart&&u.onPushStart(m)===!1)return!0;f.push(m),m.expand=m.expand||!1,m.checked=m.checked||!1,m.disabled=m.disabled||!1,m.active=!1,m.semiChecked=!1,d=d||[];var p=r.clone(d);p.push(m[a]),m.$trace=p,c&&m.checked&&(m.disabled=!0),s&&!m.checked&&(m.disabled=!0),m.wait=m.wait||t,o&&(m.wait=!m[o],l&&m[o]&&(m.disabled=!0)),m.children=m.children||[],m.children.length&&(m.children=toTreeData(m.children,t,n,a,i,o,c,s,l,m.$trace,u))}),f},a=[n(4),n(8),n(9),n(10)],i=function(e,t){var n=function(){};e.component("mc:treebt",{$btn_opt:{},data:[],textName:"",hasCheckbox:!0,dynamic:!0,clickEveryWhere:!0,hideVir:!1,ajaxConfig:{},disableImp:!1,disableNonImp:!1,disableLeaf:!1,bt:!0,barSelectMode:!1,isLR:!1,notUpdate:!1,idName:"id",pidName:"pid",virtualId:"",virtualText:"全部",virtualClick:!0,disableId:"",extraData:null,isLeafName:"",hasButton:!1,autoShow:null,onInit:n,onChecked:n,onUnChecked:n,onLeafClick:n,onEveryClick:n,onDataChange:n,onPushStart:n,onPushEnd:n,onLoadData:n,setSelectById:n,setUnCheckedById:n,getSelect:n,initSelect:n,initExpand:n,initTree:n,showItem:n,getCheckedLeafData:n,setData:n,getCheckedData:n,getImpCheckedData:n,getAllCheckedData:n,getDiffData:n,disableRecById:n,isInit:!0,extend:{},lindex:-1,impData:[],oriImpData:[],cacheData:null,$skipArray:["impData","ajaxConfig","oriImpData","cacheData","extraData"],$tmpR:[],disableRecId:null,tmpActive:{},clickCheckbox:n,foldClick:n,_trigger:n,fold:n,unfold:n,_fold:n,toggleFold:n,isLeaf:n,isSame:n,_active:n,hasCheckedChildren:n,hasUncheckedChildren:n,hasSemiCheckedChildren:n,isSemiChecked:n,_updateParents:n,updateChecked:n,_check:n,_find:n,find:n,hasChildren:n,uncheckImp:n,setImpData:n,$template:t,$replace:!0,$construct:function(t,n,a){n.data&&("function"==typeof n.data&&(n.data=n.data()),n.data=toTreeData(n.data,n.dynamic,n.impData,n.idName,n.pidName,n.isLeafName,n.disableImp,n.disableNonImp,n.disableLeaf,[],n));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.clickCheckbox=function(e,n){return t.disableId&&n[t.idName]===t.disableId?!1:n.disabled?!1:(n.checked?t._trigger({target:n.$model},"unchecked"):t._trigger({target:n.$model},"checked"),void t._check(n,!n.checked))},t.foldClick=function(e,n,a){var i=$.Deferred();if(0!==n.wait)if("text"===a&&t.clickEveryWhere)if(!t.virtualClick&&t.virtualId&&n[t.idName]===t.virtualId);else if(t.disableId&&n[t.idName]===t.disableId);else{if(t.disableRecId&&n.$trace.indexOf(t.disableRecId)>-1)return alert("禁用移动到自身目录"),!1;n.disabled||t._active(n)}else t.isLeaf(n)?t._trigger({target:n.$model},"leaf"):t.toggleFold(n);return i},t.fold=function(e){t._fold(e,!1)},t._fold=function(e,t){e.expand=t},t.unfold=function(e,n){var a=$.Deferred(),i=$.Deferred();if(e.wait){e.wait=0;var r={All:1};r[t.ajaxConfig.key]=e[t.idName],r=$.extend(!0,r,t.ajaxConfig.extra),Mc.Ajax({url:t.ajaxConfig.url,data:r,success:function(n){if(t.isLR&&n.data.forEach(function(n){n[t.pidName]=e[t.idName]}),n.data&&n.data.length)var a=toTreeData(n.data,t.dynamic,t.impData,t.idName,t.pidName,t.isLeafName,t.disableImp,t.disableNonImp,t.disableLeaf,e.$trace,t);if(a&&a.length&&(e.children.pushArray(a),t._updateParents(t.data,e.children[0]),t._trigger("data"),t.extraData&&e[t.idName]===t.virtualId)){var r=toTreeData(t.extraData,t.dynamic,t.impData,t.idName,t.pidName,t.isLeafName,t.disableImp,t.disableNonImp,t.disableLeaf,e.$trace,t);e.children.pushArray(r)}e.wait=!1,i.resolve()}})}else e.wait===!1&&i.resolve();return i.then(function(){n||t._fold(e,!0),a.resolve()}),a},t.toggleFold=function(e){var n=!e.expand;n?t.unfold(e):t.fold(e)},t._trigger=function(e,n){switch(n){case"beforeEvery":if("function"==typeof t.onBeforeEveryClick)return t.onBeforeEveryClick(e.target,t)!==!1;break;case"data":"function"==typeof t.onDataChange&&t.onDataChange(t.r);break;case"leaf":"function"==typeof t.onLeafClick&&t.onLeafClick(e.target,t);break;case"every":"function"==typeof t.onEveryClick&&t.onEveryClick(e.target,t);break;case"checked":"function"==typeof t.onChecked&&t.onChecked(e.target);break;case"unchecked":"function"==typeof t.onUnChecked&&t.onUnChecked(e.target);break;case"loadData":"function"==typeof t.onLoadData&&t.onLoadData(e,t)}return!0},t.isLeaf=function(e){return t.isLeafName?!!e[t.isLeafName]:e.wait?!1:!e.children||!e.children.length},t.isSame=function(e,n){return e[t.idName]==n[t.idName]},t._active=function(e){t._trigger({target:e.$model},"beforeEvery")&&(t.tmpActive.active&&(t.tmpActive.active=!1),e.active=!0,t.tmpActive=e,t.isLeaf(e)?(t._trigger({target:e.$model},"leaf"),t._trigger({target:e.$model},"every")):t._trigger({target:e.$model},"every"))},t.hasCheckedChildren=function(e){return!!r.find(e.children,function(e){return e.checked||t.hasCheckedChildren(e)})},t.hasUncheckedChildren=function(e){return!!r.find(e.children,function(e){return!e.checked||t.hasUncheckedChildren(e)})},t.hasSemiCheckedChildren=function(e){return t.hasCheckedChildren(e)&&t.hasUncheckedChildren(e)},t.isSemiChecked=t.hasSemiCheckedChildren,t._updateParents=function(n,a){return t.notUpdate?!1:t.bt?!1:t.hasCheckbox?void e.each(n,function(e,n){t.hasChildren(n,a)&&(t._updateParents(n.children,a),n.checked=t.hasCheckedChildren(n),n.semiChecked=t.isSemiChecked(n))}):!1},t.updateChecked=function(e){t._updateParents(t.data,e)},t.uncheckImp=function(e){if(t.impData.length){var n=r.find(t.impData,function(n){return n[t.pidName]==e[t.idName]});if(n){t.uncheckImp(n);var a=t.impData.indexOf(n);t.impData.splice(a,1)}}},t.getCheckedData=function(e){return e||(e=t.data.$model,t.$tmpR=[]),r.each(e,function(e){e.children&&e.children.length&&t.getCheckedData(e.children),e.checked&&t.$tmpR.push(e)}),t.$tmpR},t.getImpCheckedData=function(){return t.impData},t.getAllCheckedData=function(){var e=t.getCheckedData(),n=t.getImpCheckedData(),a=r.flatten([n,e],!0),i=[];return i=t.virtualId?r.filter(a,function(e){return e[t.idName]!==t.virtualId}):a},t.getDiffData=function(){var e=t.getAllCheckedData(),n=[[],[]],a=e.map(function(e){return e[t.idName]}),i=t.oriImpData.map(function(e){return e[t.idName]}),o=r.difference(a,i),c=r.difference(i,a);return o.forEach(function(a){var i=r.find(e,function(e){return e[t.idName]===a});i?n[1].push(i):0}),c.forEach(function(e){var a=r.find(t.oriImpData,function(n){return n[t.idName]===e});a?n[0].push(a):0}),n},t._check=function(n,a){if(n.checked=a,t.bt)if(a){if(n[t.pidName]){var i={};i[t.idName]=n[t.pidName];var r=t.find(i);r&&!r.checked&&t._check(r,!0)}}else t.isLeaf(n)||0!==n.children.length||t.uncheckImp(n),e.each(n.children,function(e,n){t._check(n,!1)});else t.notUpdate||(e.each(n.children,function(e,n){t._check(n,a)}),t._updateParents(t.data,n))},t._find=function(e,n){if(!e)return null;for(var a=0;a<e.length;++a){var i=e[a];if(t.isSame(i,n))return i;var r=t._find(i.children,n);if(r)return r}return null},t.find=function(e){return t._find(t.data,e)},t.hasChildren=function(e,n){var a=n.length>=0?n:[n];return!!r.find(a,function(n){return t._find(e.children,n)})},t.disableRecById=function(e){t.disableRecById=e},t.setSelectById=function(e){var n={};n[t.idName]=e;var a=t.find(n);a&&t._active(a)},t.setUnCheckedById=function(e){var n={};n[t.idName]=e;var a=t.find(n);a&&(a.checked=!1)},t.getSelect=function(){return t.tmpActive.active?{text:t.tmpActive.$model[t.textName],val:t.tmpActive.$model[t.idName],trace:t.tmpActive.$trace}:null},t.initSelect=function(){t.hasCheckbox||(t.tmpActive.active=!1)},t.initExpand=function(){var e=function(n){n.forEach(function(n){t.fold(n),n.children.length&&e(n.children)})};e(t.data)},t.initTree=function(){t.initExpand(),t.initSelect()},t.setData=function(e,n){if(n&&t.setImpData(n),!e){var a={};a[t.idName]=t.virtualId,a[t.textName]=t.virtualText,a.wait=!0,a.$trace=[],t.isLeafName&&(a[t.isLeafName]=0),e=[a]}return t.data=toTreeData(e,t.dynamic,t.impData,t.idName,t.pidName,t.isLeafName,t.disableImp,t.disableNonImp,t.disableLeaf,[],t),t.autoExpandFirst&&r.each(t.data,function(e){t.foldClick({},e,"icon")}),t},t.setImpData=function(e){if(t.oriImpData=e.map(function(e){return r.clone(e)}),e.length){var n={};n[t.idName]=t.virtualId,n[t.textName]=t.virtualText,t.isLeafName&&(n[t.isLeafName]=0),e.push(n)}t.impData=e},t.showItem=function(e,n,a){return 1>n?!1:(e=e||t.data,e=r.isArray(e)?e:[e],void r.each(e,function(e){if(a.force){var i=!1;t.isLeafName?e[t.isLeafName]||(i=!0):i=!0,i&&(e.wait=!0,e.children=[])}t.unfold(e,a.silence).then(function(){t._trigger(e,"loadData"),e.children.length&&t.showItem(e.children,--n,a)})}))},t.showItemById=function(e,n,a){var i={};i[t.idName]=e;var r=t.find(i);r&&t.showItem(r,n,a)},t.showAllItem=function(e,n){t.showItem(null,100,n)}},$ready:function(e,t){if(e.onInit(e,t),console.log("ready  tree"),e.isInit=!1,e.autoShow){var n={force:e.autoShow.force,silence:e.autoShow.silence};e.autoShow.n?e.setData(null).showItem(null,e.autoShow.n,n):e.setData(null).showAllItem(null,n)}}});var a=e.components["mc:treebt"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t){e.exports='<div class="mc-tree-cotar" ms-class="mc-loading: isInit">\r\n    <script type="avalon" id="treeitem" style="display: none">\r\n        <i ms-click="foldClick($event,el,\'icon\')" class="mc-ic parent"\r\n           ms-class-1="expand:  el.expand"\r\n           ms-class-2="unexpand:!el.expand"\r\n           ms-class-3="leaf: isLeaf(el)"\r\n           ms-class-4="wait: isLeafName ?  false :  el.wait"\r\n           ms-class-5="waiting: el.wait===0"\r\n           ms-visible="!hideVir || el[idName]!==virtualId">\r\n        </i>\r\n\r\n\r\n\r\n        <div class="form-group mc-checkbox-cotar" ms-class="mc-tree-bar:barSelectMode" ms-if="!barSelectMode" ms-visible="!hideVir || el[idName]!==virtualId">\r\n            <i ms-if="hasCheckbox" ms-click="clickCheckbox($event,el)" class="mc-checkbox"\r\n               ms-class-1="mc-active: el.checked"\r\n               ms-class-2="mc-semi-checked: el.semiChecked"\r\n               ms-class-3="mc-checkbox-disabled: el.disabled&&el.checked"\r\n               ms-class-4="mc-checkbox-unchecked-disabled: el.disabled&& (!el.checked)"></i>\r\n            <span ms-click="foldClick($event,el,\'text\')" class="mc-checkbox-label text-field"\r\n                  ms-class-1="mc-text-active: el.active"\r\n                  ms-class-2="mc-text-disabled: el.disabled">\r\n                {{el[textName]}}\r\n            </span>\r\n            <mc:button ms-if="hasButton" config="$btn_opt"\r\n                       ms-attr-str="{{JSON.stringify(el.$model)}}">\r\n\r\n            </mc:button>\r\n        </div>\r\n        <!-- 单行选择模式 -->\r\n        <div class="form-group mc-checkbox-cotar mc-tree-bar" ms-if="barSelectMode" ms-click="clickCheckbox($event,el)"\r\n             ms-visible="!hideVir || el[idName]!==virtualId">\r\n            <i class="mc-checkbox"\r\n               ms-class-1="mc-active: el.checked"\r\n               ms-class-2="mc-semi-checked: el.semiChecked"\r\n               ms-class-3="mc-checkbox-disabled: el.disabled&&el.checked"\r\n               ms-class-4="mc-checkbox-unchecked-disabled: el.disabled&& (!el.checked)"></i>\r\n            <span class="mc-checkbox-label text-field"\r\n                  ms-class-1="mc-text-active: el.active"\r\n                  ms-class-2="mc-text-disabled: el.disabled">\r\n                {{el[textName]}}\r\n            </span>\r\n        </div>\r\n        <ul ms-visible="el.expand">\r\n            <!--ms-if="!isLeaf(el)"-->\r\n            <li ms-repeat="el.children" ms-include="\'treeitem\'">\r\n            </li>\r\n        </ul>\r\n    </script>\r\n    <ul class="tree-view">\r\n        <li ms-repeat="data" ms-include="\'treeitem\'">\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n';
},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(11),n(12)],i=function(e,t){var n=function(){};e.component("mc:button",{label:"",type:"",mcstyle:"",size:"normal",disabled:!1,onInit:n,onClick:null,isDisable:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,clickButton:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickButton=function(t,n){e.disabled||(e._trigger(t,"click",n),t.stopPropagation())},e._trigger=function(t,n,a){switch(n){case"click":"function"==typeof e.onClick&&e.onClick(t,e,a)}},e.isDisable=function(){return e.disabled}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:button"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-button-cotar" ms-class-1="mc-button-disabled: disabled"\r\n     ms-class-2="success: type==\'success\'" ms-class-3="fail: type==\'fail\'"\r\n     ms-class-4="mc-size-wide: size==\'wide\'" ms-class-5="{{mcstyle}}" ms-class-6="mc-loading: isInit"\r\n     ms-click="clickButton($event, this)">\r\n    <span class="mc-button-label">{{label}}</span>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(14),n(15)],i=function(e,t){var n=function(){};e.component("mc:dialog",{title:"",size:"normal",width:null,height:null,padding:15,show:!1,buttons:[],bgClose:!1,$tmpData:{},onShowed:null,onHided:null,setTitle:n,getTitle:n,showDialog:n,hideDialog:n,setCallback:n,getTmpData:n,setTmpData:n,content:"",lindex:-1,btnClick:n,clickDialog:n,onInit:n,_trigger:n,onSelectadd:n,jBtnType:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.btnClick=function(t,n){var a=-1!==n.lindex&&e.buttons[n.lindex].callback;"function"==typeof a&&a(t,e)&&(e._trigger(n.lindex,"selectadd"),e.hideDialog({},!0))},e.clickDialog=function(e){e.cancelBubble=!0},e._trigger=function(t,n){switch(n){case"showed":"function"==typeof e.onShowed&&e.onShowed(t,e);break;case"hided":"function"==typeof e.onHided&&e.onHided(t,e);break;case"selectadd":"function"==typeof e.onSelectadd&&e.onSelectadd(t,e)}},e.jBtnType=function(t){return e.buttons[t].type},e.setTitle=function(t){return e.title=t,e},e.getTitle=function(){return e.title},e.showDialog=function(){return e.show=!0,e._trigger({},"showed"),e},e.hideDialog=function(t,n){return(n||e.bgClose)&&(e.show=!1,e._trigger(t,"hided")),e},e.setCallback=function(t,n){return e.buttons[t]&&(e.buttons[t].callback=n),e},e.getTmpData=function(){return e.$tmpData},e.setTmpData=function(t){return e.$tmpData=$.extend(e.$tmpData,t),e}},$ready:function(e,t){McAvalon.$mcPageStore&&McAvalon.$mcPageStore.regist(e),e.onInit(e,t)}});var a=e.components["mc:dialog"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-modal-cotar fade" ms-click="hideDialog($event)" ms-class-1="mc-dialog-show:show"\r\n     ms-class-2="mc-dialog-hide:!show">\r\n    <div class="mc-modal-dialog vm-cotar" ms-click="clickDialog($event)" ms-class-1="mc-modal-lg: size==\'large\'"\r\n         ms-class-2="mc-modal-sm: size==\'small\'" ms-class-3="mc-modal-page: size==\'page\'">\r\n        <div class="mc-modal-content">\r\n            <!-- modal header -->\r\n            <div class="mc-modal-header hf">\r\n                <div class="mc-modal-title fp">{{title}}</div>\r\n                <div class="mc-close-btn fp" ms-click="hideDialog($event,true)"><span>&times;</span></div>\r\n            </div>\r\n            <!-- modal body -->\r\n            <div class="mc-modal-body" ms-css-padding="padding" ms-css-height="height">{{content|html}}</div>\r\n            <!-- modal footer -->\r\n            <div class="mc-modal-footer" ms-if="buttons.length > 0">\r\n                <mc:button ms-repeat="buttons" ms-attr-type="jBtnType($index)" on-click="btnClick"\r\n                           ms-attr-lindex="$index" ms-attr-label="el.label">\r\n                </mc:button>\r\n            </div>\r\n        </div>\r\n        <!-- modal bg -->\r\n        <div class="mc-modal-bg"></div>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t){McIcon=function(){this.iconList=[{iconCode:"&#xe791;"},{iconCode:"&#xe78b;"},{iconCode:"&#xe729;"},{iconCode:"&#xe734;"},{iconCode:"&#xe74a;"},{iconCode:"&#xe741;"},{iconCode:"&#xe739;"},{iconCode:"&#xe759;"},{iconCode:"&#xe753;"},{iconCode:"&#xe700;"},{iconCode:"&#xe6fe;"},{iconCode:"&#xe706;"},{iconCode:"&#xe667;"},{iconCode:"&#xe665;"},{iconCode:"&#xe671;"},{iconCode:"&#xe676;"},{iconCode:"&#xe6af;"},{iconCode:"&#xe699;"},{iconCode:"&#xe69b;"},{iconCode:"&#xe651;"}]},McIcon.prototype.getList=function(){return this.iconList},McIcon.prototype.getIcon=function(e){return this.iconList[e]},McAvalon={version:"0.4.0beta",$window:$({}),$mcPageStore:null,getVm:function(e){return avalon.vmodels[e]},util:{genId:function(e){return e=e||"ID",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)},getUrlParamByName:function(e){var t=null,n=window.location.hash,a=n.indexOf("?");if(-1!==a){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=n.substr(a+1).match(i);null!=r&&(t=decodeURIComponent(r[2]))}return t}},validata:function(e,t){for(var n="",a=null,i=t.split(","),r=0;r<i.length;r++){var o=i[r];switch(o){case"int":a=/^\-?\d+$/,n=a.test(e)?"":"请输入正确的整数";break;case"+int":a=/^\+?[1-9][0-9]*$/,n=a.test(e)?"":"请输入正确的正整数";break;case"-int":a=/^\-[1-9][0-9]*$/,n=a.test(e)?"":"请输入正确的负整数";break;case"float":a=/^(-?\d+)(\.\d+)?/,n=a.test(e)?"":"请输入正确的浮点数";break;case"+float":a=/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/,n=a.test(e)?"":"请输入正确的正浮点数";break;case"-float":a=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/,n=a.test(e)?"":"请输入正确的负浮点数";break;case"ip":a=/^(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])$/,n=a.test(e)?"":"IP地址有误";break;case"email":a=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]{2,5}$/,n=a.test(e)?"":"电子邮件地址有误";break;case"phone":a=/^(\(\d{3,4}\)|\d{3,4}-)?\d{7,8}$/,n=a.test(e)?"":"电话号码有误";break;case"mobile":a=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,n=a.test(e)?"":"手机号码有误"}}return n},icon:new McIcon},avalon.config({paths:{mmRequest:"debug/src/ass/ui/base/js/mmRequest.js",mmPromise:"debug/src/ass/ui/base/js/mmPromise.js",mmHistory:"debug/src/ass/ui/base/js/mmRouter/mmHistory.js",mmRouter:"debug/src/ass/ui/base/js/mmRouter/mmRouter.js",mmState:"debug/src/ass/ui/base/js/mmRouter/mmState.js",mcAccordion:"debug/src/ass/ui/accordion/mc.accordion.js",mcSidebar:"debug/src/ass/ui/sidebar/mc.sidebar.js",mcSidepop:"debug/src/ass/ui/sidepop/mc.sidepop.js",mcDatagrid:"debug/src/ass/ui/datagrid/mc.datagrid.js",mcDatagridTest:"debug/src/ass/ui/datagridtest/mc.datagridtest.js",mcPopmenu:"debug/src/ass/ui/popmenu/mc.popmenu.js",mcPop:"debug/src/ass/ui/pop/mc.pop.js",mcDialog:"debug/src/ass/ui/dialog/mc.dialog.js",mcDialogTest:"debug/src/ass/ui/dialogtest/mc.dialogtest.js",mcForm:"debug/src/ass/ui/form/mc.form.js",mcNavbar:"debug/src/ass/ui/navbar/mc.navbar.js",mcPanel:"debug/src/ass/ui/panel/mc.panel.js",mcTab:"debug/src/ass/ui/tab/mc.tab.js",mcSearchbox:"debug/src/ass/ui/searchbox/mc.searchbox.js",mcTabs:"debug/src/ass/ui/tabs/mc.tabs.js",mcCheckbox:"debug/src/ass/ui/form/checkbox/mc.checkbox.js",mcCheckboxGroup:"debug/src/ass/ui/form/checkboxGroup/mc.checkboxgroup.js",mcListdataAdd:"debug/src/ass/ui/form/ListdataAdd/mc.ListdataAdd.js",mcTree:"debug/src/ass/ui/form/tree/mc.tree.js",mcTreeBt:"debug/src/ass/ui/form/treebt/mc.tree.js",mcTreeSelect:"debug/src/ass/ui/form/treeSelect/mc.treeSelect.js",mcButton:"debug/src/ass/ui/form/button/mc.button.js",mcDroplist:"debug/src/ass/ui/droplist/mc.droplist.js",mcDatapager:"debug/src/ass/ui/datapager/mc.datapager.js",mcDatapagerTest:"debug/src/ass/ui/datapagertest/mc.datapagerTest.js",mcDatepicker:"debug/src/ass/ui/form/datepicker/mc.datepicker.js",mcPassword:"debug/src/ass/ui/form/password/mc.password.js",mcRadiogroup:"debug/src/ass/ui/form/radio/mc.radiogroup.js",mcRate:"debug/src/ass/ui/form/rate/mc.rate.js",mcSelectbox:"debug/src/ass/ui/form/selectbox/mc.selectbox.js",mcSpinner:"debug/src/ass/ui/form/spinner/mc.spinner.js",mcSwitch:"debug/src/ass/ui/form/switch/mc.switch.js",mcText:"debug/src/ass/ui/form/text/mc.text.js",mcJsonadd:"debug/src/ass/ui/form/jsonadd/mc.jsonadd.js",mcUpload:"debug/src/ass/ui/form/upload/mc.upload.js",mcEditor:"debug/src/ass/ui/form/editor/mc.editor.js",mcTagadd:"debug/src/ass/ui/form/tagadd/mc.tagadd.js",mcSelectadd:"debug/src/ass/ui/form/selectadd/mc.Selectadd.js",mcPagemodal:"debug/src/ass/ui/pagemodal/mc.pagemodal.js",mcBread:"debug/src/ass/ui/bread/mc.bread.js",mcIconselect:"debug/src/ass/ui/form/iconselect/mc.iconselect.js",mcTextarea:"debug/src/ass/ui/form/textarea/mc.textarea.js",mcGrid:"debug/src/ass/ui/layout/gridlayout/mc.gridlayout.js",mcLinear:"debug/src/ass/ui/layout/linearlayout/mc.linearlayout.js",mcAbsolute:"debug/src/ass/ui/layout/absolutelayout/mc.absolutelayout.js",mcRelative:"debug/src/ass/ui/layout/relativelayout/mc.relativelayout.js"},maxRepeatSize:50}),avalon.library("mc",{$init:function(){},$childReady:function(){},$ready:function(){},$dispose:function(){}});toDatagridData=function(e,t){return datagridData(e,t?function(){t.selected.push(!1)}:null)},datagridData=function(e,t){var n=!1;return"function"==typeof t&&(n=!0),avalon.each(e,function(e,a){a.$tableChildVM={},a.selected=!1,n&&t.call(a,e)}),e},McAvalon.global={},root=avalon.define({$id:"app"}),$(document).on("click",function(){McAvalon.global.selectboxVm&&avalon.each(McAvalon.global.selectboxVm,function(e,t){t.isOpen()&&t.setState(!1)})}),window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.toDate=function(){var e=this,t=null;try{-1!=e.indexOf("-")?t=new Date(e.replace(/-/g,"/")):-1!=e.indexOf("/")?t=new Date(e):8==e.length?t=new Date(e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2)):e.length>=14&&e.length<=17&&(t=new Date(e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2)+" "+e.substr(8,2)+":"+e.substr(10,2)+":"+e.substr(12,2)))}catch(n){}return t},"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e,t){for(var n=0,a=this.length;a>n;n++)"function"==typeof e&&Object.prototype.hasOwnProperty.call(this,n)&&e.call(t,this[n],n,this)}),"function"!=typeof Array.prototype.map&&(Array.prototype.map=function(e,t){var n=[];if("function"==typeof e)for(var a=0,i=this.length;i>a;a++)n.push(e.call(t,this[a],a,this));return n}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e,t){var n=[];if("function"==typeof e)for(var a=0,i=this.length;i>a;a++)e.call(t,this[a],a,this)&&n.push(this[a]);return n}),"function"!=typeof Array.prototype.some&&(Array.prototype.some=function(e,t){var n=!1;if("function"==typeof e)for(var a=0,i=this.length;i>a&&n!==!0;a++)n=!!e.call(t,this[a],a,this);return n}),"function"!=typeof Array.prototype.every&&(Array.prototype.every=function(e,t){var n=!0;if("function"==typeof e)for(var a=0,i=this.length;i>a&&n!==!1;a++)n=!!e.call(t,this[a],a,this);return n}),"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(e,t){var n=-1;t=1*t||0;for(var a=0,i=this.length;i>a;a++)if(a>=t&&this[a]===e){n=a;break}return n}),"function"!=typeof Array.prototype.lastIndexOf&&(Array.prototype.lastIndexOf=function(e,t){var n=-1,a=this.length;t=1*t||a-1;for(var i=a-1;i>-1;i-=1)if(t>=i&&this[i]===e){n=i;break}return n}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){var n=t,a=0,i=this.length;if("undefined"==typeof t&&(n=this[0],a=1),"function"==typeof e)for(a;i>a;a++)this.hasOwnProperty(a)&&(n=e(n,this[a],a,this));return n}),"function"!=typeof Array.prototype.reduceRight&&(Array.prototype.reduceRight=function(e,t){var n=this.length,a=n-1,i=t;if("undefined"==typeof t&&(i=this[n-1],a--),"function"==typeof e)for(a;a>-1;a-=1)this.hasOwnProperty(a)&&(i=e(i,this[a],a,this));return i}),function(e,t,n){"use strict";function a(e){this.idStore=e||{},this.vmStore={},this.deferredStore={};for(var n in e)e.hasOwnProperty(n)&&(this.deferredStore[this.idStore[n]]=t.Deferred())}var i=null;e.Store=function(t){var n=new a(t);return e.$mcPageStore=n,n},e.EmptyStore=function(){return i||(i=new a({}))},a.prototype.getId=function(e){return this.idStore[e]},a.prototype.getVm=function(e){return this.vmStore[this.idStore[e]]},a.prototype.getDeferred=function(e){return console.log(this.idStore[e]),this.deferredStore[this.idStore[e]]},a.prototype.regist=function(e){var t=e.$id;this.vmStore[t]=e,this.deferredStore[t]&&(console.log(t),this.deferredStore[t].resolve(e))}}(window.McAvalon||(window.McAvalon={}),window.jQuery)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4),__webpack_require__(18)],__WEBPACK_AMD_DEFINE_RESULT__=function(avalon){function IE(){if(window.VBArray){var e=document.documentMode;return e?e:window.XMLHttpRequest?7:6}return 0}function parseJS(e){var t=eval;if(e=e.trim())if(1===e.indexOf("use strict")){var n=document.createElement("script");n.text=e,head.appendChild(n).parentNode.removeChild(n)}else t(e)}function parseXML(e,t,n){try{var a=document.documentMode;window.DOMParser&&(!a||a>8)?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(i){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||avalon.error("Invalid XML: "+e),t}function ajaxExtend(e){e=avalon.mix({},defaults,e),e.type=e.type.toUpperCase();var t="string"==typeof e.data?e.data:avalon.param(e.data);if(e.querystring=t||"",e.url=e.url.replace(rhash,"").replace(rprotocol,location.protocol+"//"),"boolean"!=typeof e.crossDomain){var n=document.createElement("a");try{n.href=e.url;var a="1"[0]?n.href:n.getAttribute("href",4);n.href=a,e.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=n.protocol+"//"+n.host}catch(i){e.crossDomain=!0}}return e.hasContent=!rnoContent.test(e.type),e.hasContent||(t&&(e.url+=(rquery.test(e.url)?"&":"?")+t),e.cache===!1&&(e.url+=(rquery.test(e.url)?"&":"?")+"_time="+(new Date-0))),e}function ok(e){return e}function ng(e){throw e}function paramInner(e,t,n){var a;if(Array.isArray(t))avalon.each(t,function(t,a){rbracket.test(e)?n(e,a):paramInner(e+"["+("object"==typeof a?t:"")+"]",a,n)});else if(avalon.isPlainObject(t))for(a in t)paramInner(e+"["+a+"]",t[a],n);else n(e,t)}function tryDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}function addSubObject(e,t,n){var a=t.match(r5b5d);if(!a)return!0;for(var i,r,o,c=[],s=!0;(r=t.lastIndexOf("%5B"))&&-1!==r;)o=t.slice(r).slice(3,-3),t=t.slice(0,r),""===o?c.unshift({action:"pushArrayElement"}):(o>>>0)+""===o?c.unshift({action:"setSubArray",value:o}):s?c.unshift({action:"setObjectProperty",value:tryDecodeURIComponent(o)}):c.unshift({action:"setSubObjet",value:tryDecodeURIComponent(o)}),s=!1;for(s=!0;i=c.shift();){var l=/Object/.test(i.action);switch(s&&(t in e||(e[t]=l?{}:[]),s=!1,e=e[t]),i.action){case"pushArrayElement":e.push(n);break;case"setObjectProperty":e[i.value]=n;break;case"setSubObjet":i.value in e||(e[i.value]={}),e=e[i.value];break;case"setSubArray":i.value in e||(e[i.value]=[]),e=e[i.value]}}}function trimLine(e){return e.replace(rline,"\r\n")}var global=window,DOC=global.document,encode=encodeURIComponent,decode=decodeURIComponent,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rhash=/#.*$/,rquery=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,r20=/%20/g,radd=/\+/g,r5b5d=/%5B(.*?)%5D$/,originAnchor=document.createElement("a");originAnchor.href=location.href;var accepts={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",script:"text/javascript, application/javascript","*":["*/"]+["*"]},useOnload=0===IE()||IE()>8;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.lastIndexOf(e,t)===t});var head=DOC.getElementsByTagName("head")[0],isLocal=!1;try{isLocal=rlocalProtocol.test(location.protocol)}catch(e){}!new function(){var s=["XMLHttpRequest","ActiveXObject('MSXML2.XMLHTTP.6.0')","ActiveXObject('MSXML2.XMLHTTP.3.0')","ActiveXObject('MSXML2.XMLHTTP')","ActiveXObject('Microsoft.XMLHTTP')"];s[0]=IE()<8&&0!==IE()&&isLocal?"!":s[0];for(var i=0,axo;axo=s[i++];)try{if(eval("new "+axo)){avalon.xhr=new Function("return new "+axo);break}}catch(e){}};var supportCors="withCredentials"in avalon.xhr(),defaults={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,jsonp:"callback"},XHRMethods={setRequestHeader:function(e,t){return this.requestHeaders[e]=t,this},getAllResponseHeaders:function(){return 4===this.readyState?this.responseHeadersString:null},getResponseHeader:function(e,t){if(4===this.readyState){for(;t=rheaders.exec(this.responseHeadersString);)this.responseHeaders[t[1]]=t[2];t=this.responseHeaders[e]}return void 0===t?null:t},overrideMimeType:function(e){return this.mimeType=e,this},abort:function(e){return e=e||"abort",this.transport&&this.respond(0,e),this},dispatch:function(e,t){var n=t;if(this.transport){this.readyState=4;var a=e>=200&&300>e||304===e;if(a)if(204===e)n="nocontent";else if(304===e)n="notmodified";else if("undefined"==typeof this.response){var i=this.options.dataType||this.options.mimeType;(!i&&this.responseText||this.responseXML)&&(i=this.getResponseHeader("Content-Type")||"",i=i.match(/json|xml|script|html/i)||["text"],i=i[0].toLowerCase());var r=this.responseText||"",o=this.responseXML||"";try{this.response=avalon.ajaxConverters[i].call(this,r,o)}catch(c){a=!1,this.error=c,n="parsererror"}}this.status=e,this.statusText=n+"",this.timeoutID&&(clearTimeout(this.timeoutID),delete this.timeoutID),this._transport=this.transport;var s=this;a?(this._resolve([this.response,n,this]),window.setTimeout(function(){avalon.ajaxGlobalEvents.success(s,s.options,s.response)},0)):(this._reject([this,n,this.error]),window.setTimeout(function(){avalon.ajaxGlobalEvents.error(s,s.options,n)},0)),delete this.transport,ajaxActive--,window.setTimeout(function(){avalon.ajaxGlobalEvents.complete(s,s.options)},0),0===ajaxActive&&window.setTimeout(function(){avalon.ajaxGlobalEvents.stop()},0)}}},ajaxActive=0;avalon.ajax=function(e,t){e&&e.url||avalon.error("参数必须为Object并且拥有url属性"),e=ajaxExtend(e);var n,a,i={responseHeadersString:"",responseHeaders:{},requestHeaders:{},querystring:e.querystring,readyState:0,uniqueID:(""+Math.random()).replace(/0\./,""),status:0},t=new avalon.Promise(function(e,t){a=e,n=t});t.options=e,t._reject=n,t._resolve=a;var r=[],o=[];Array("done","fail","always").forEach(function(e){t[e]=function(t){return"function"==typeof t&&("fail"!==e&&r.push(t),"done"!==e&&o.push(t)),this}});var c=e.async===!1;c&&(avalon.log("warnning:与jquery1.8一样,async:false这配置已经被废弃"),t.async=!1),avalon.mix(t,i,XHRMethods),t.then(function(e){e=Array.isArray(e)?e:void 0===e?[]:[e];for(var n,a=0;n=r[a++];)n.apply(t,e);return e},function(e){e=Array.isArray(e)?e:void 0===e?[]:[e];for(var n,a=0;n=o[a++];)n.apply(t,e);return e}),t.done(e.success).fail(e.error).always(e.complete);var s=e.dataType,l=avalon.ajaxTransports;(e.crossDomain&&!supportCors||rjsonp.test(e.url))&&"json"===s&&"GET"===e.type&&(s=e.dataType="jsonp");var d=e.form?"upload":s,u=l[d]||l.xhr;avalon.mix(t,u),t.preproccess&&(s=t.preproccess()||s),e.contentType&&t.setRequestHeader("Content-Type",e.contentType),t.setRequestHeader("Accept",accepts[s]?accepts[s]+", */*; q=0.01":accepts["*"]);for(var f in e.headers)t.setRequestHeader(f,e.headers[f]);return e.async&&e.timeout>0&&(t.timeoutID=setTimeout(function(){t.abort("timeout"),t.dispatch(0,"timeout")},e.timeout)),0===ajaxActive&&avalon.ajaxGlobalEvents.start(),avalon.ajaxGlobalEvents.send(t,e),ajaxActive++,t.request(),t},"get,post".replace(avalon.rword,function(e){avalon[e]=function(t,n,a,i){return"function"==typeof n&&(i=i||a,a=n,n=void 0),avalon.ajax({type:e,url:t,data:n,success:a,dataType:i})}}),avalon.getScript=function(e,t){return avalon.get(e,null,t,"script")},avalon.getJSON=function(e,t,n){return avalon.get(e,t,n,"json")},avalon.upload=function(e,t,n,a,i){return"function"==typeof n&&(i=a,a=n,n=void 0),avalon.ajax({url:e,type:"post",dataType:i,form:t,data:n,success:a})},avalon.ajaxGlobalEvents={},["start","stop","complete","error","success","send"].forEach(function(e){avalon.ajaxGlobalEvents[e]=avalon.noop}),avalon.ajaxConverters={text:function(e){return e},xml:function(e,t){return void 0!==t?t:parseXML(e)},html:function(e){return avalon.parseHTML(e)},json:function(e){return avalon.parseJSON||avalon.log("avalon.parseJSON不存在,请升级到最新版"),avalon.parseJSON(e)},script:function(e){return parseJS(e),e},jsonp:function(){var e,t;return this.jsonpCallback.startsWith("avalon.")?(t=this.jsonpCallback.replace(/avalon\./,""),e=avalon[t],delete avalon[t]):e=window[this.jsonpCallback],e}};var rbracket=/\[\]$/;avalon.param=function(e){var t,n=[],a=function(e,t){t="function"==typeof t?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(Array.isArray(e))avalon.each(e,a);else for(t in e)paramInner(t,e[t],a);return n.join("&").replace(r20,"+")},avalon.unparam=function(e,t,n){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;-1!==e.indexOf("?")&&(e=e.split("?").pop());for(var i,r=e.split(t),o=0;i=r[o++];){var c=i.split("=");if(1===c.length)a[c[0]]="";else{var s=c[0].replace(radd,"%20"),l=tryDecodeURIComponent(c.slice(1).join("=").replace(radd," "));if(addSubObject(a,s,l)){var d=tryDecodeURIComponent(s);Object.prototype.hasOwnProperty.call(a,d)?Array.isArray(a[d])?a[d].push(l):a[d]=[a[d],l]:a[d]=l}}}return a};var rinput=/select|input|button|textarea/i,rcheckbox=/radio|checkbox/,rline=/\r?\n/g;avalon.serialize=function(e){var t={};return Array.prototype.filter.call(e.getElementsByTagName("*"),function(e){return rinput.test(e.nodeName)&&e.name&&!e.disabled?rcheckbox.test(e.type)?e.checked:!0:void 0}).forEach(function(e){var n=avalon(e).val();n=Array.isArray(n)?n.map(trimLine):trimLine(n);var a=e.name;a in t?Array.isArray(n)?t[a].push(n):t[a]=[t[a],n]:t[a]=n}),avalon.param(t,!1)};var transports=avalon.ajaxTransports={xhr:{request:function(){var e=this,t=this.options,n=this.transport=new avalon.xhr;n.open(t.type,t.url,t.async,t.username,t.password),this.mimeType&&n.overrideMimeType&&n.overrideMimeType(this.mimeType),t.crossDomain&&"withCredentials"in n&&(n.withCredentials=!0),t.crossDomain||(this.requestHeaders["X-Requested-With"]="XMLHttpRequest");for(var a in this.requestHeaders)n.setRequestHeader(a,this.requestHeaders[a]+"");if(t.progressCallback){var i=document.all&&!window.atob;i||(n.upload.onprogress=t.progressCallback)}var r=t.dataType;"responseType"in n&&/^(blob|arraybuffer|text)$/.test(r)&&(n.responseType=r,this.useResponseType=!0),n.send(t.hasContent&&(this.formdata||this.querystring)||null),t.async&&4!==n.readyState?useOnload?n.onload=n.onerror=function(t){this.readyState=4,this.status="load"===t.type?200:500,e.respond()}:n.onreadystatechange=function(){e.respond()}:this.respond()},respond:function(e,t){var n=this.transport;if(n){t&&this.timeoutID&&(clearTimeout(this.timeoutID),delete this.timeoutID);try{var a=4===n.readyState;if(t||a)if(n.onreadystatechange=avalon.noop,useOnload&&(n.onerror=n.onload=null),t)a||"function"!=typeof n.abort||n.abort();else{var i=n.status,r=n.responseText;this.responseText="string"==typeof r?r:void 0;try{var o=n.responseXML;this.responseXML=o.documentElement}catch(c){}this.useResponseType&&(this.response=n.response),this.responseHeadersString=n.getAllResponseHeaders();try{var s=n.statusText}catch(c){this.error=c,s="firefoxAccessError"}i||!isLocal||this.options.crossDomain?1223===i&&(i=204):i=this.responseText?200:404,this.dispatch(i,s)}}catch(l){t||this.dispatch(500,l)}}}},jsonp:{preproccess:function(){var e=this.options,t=this.jsonpCallback=e.jsonpCallback||"avalon.jsonp"+setTimeout("1");return rjsonp.test(e.url)?e.url=e.url.replace(rjsonp,"$1"+t):e.url=e.url+(rquery.test(e.url)?"&":"?")+e.jsonp+"="+t,t.startsWith("avalon.")?(t=t.replace(/avalon\./,""),avalon[t]=function(e){avalon[t]=e}):window[t]=function(e){window[t]=e},"script"}},script:{request:function(){var e=this.options,t=this.transport=DOC.createElement("script");e.charset&&(t.charset=e.charset);var n=this;t.onerror=t[useOnload?"onload":"onreadystatechange"]=function(){n.respond()},t.src=e.url,head.insertBefore(t,head.firstChild)},respond:function(e,t){var n=this.transport;if(n){t&&this.timeoutID&&(clearTimeout(this.timeoutID),delete this.timeoutID);var a=/loaded|complete|undefined/i.test(n.readyState);if(t||a){n.onerror=n.onload=n.onreadystatechange=null;var i=n.parentNode;if(i&&i.removeChild(n),!t){var r;if(this.jsonpCallback){var o=this.jsonpCallback.startsWith("avalon.")?avalon[this.jsonpCallback.replace(/avalon\./,"")]:window[this.jsonpCallback];r="function"==typeof o?[500,"error"]:[200,"success"]}else r=[200,"success"];this.dispatch.apply(this,r)}}}}},upload:{preproccess:function(){var e,t=this.options;"function"==typeof t.form.append?(e=t.form,t.contentType=""):e=new FormData(t.form),avalon.each(t.data,function(t,n){e.append(t,n)}),this.formdata=e}}};if(avalon.mix(transports.jsonp,transports.script),avalon.mix(transports.upload,transports.xhr),!window.FormData){var str='Function BinaryToArray(binary)\r\n	                 Dim oDic\r\n	                 Set oDic = CreateObject("scripting.dictionary")\r\n	                 length = LenB(binary) - 1\r\n	                 For i = 1 To length\r\n	                     oDic.add i, AscB(MidB(binary, i, 1))\r\n	                 Next\r\n	                 BinaryToArray = oDic.Items\r\n	              End Function';execScript(str,"VBScript"),avalon.fixAjax=function(){function e(e){var t=avalon.parseHTML("<iframe  id='"+e+"' name='"+e+"' style='position:absolute;left:-9999px;top:-9999px;'/>").firstChild;return(DOC.body||DOC.documentElement).insertBefore(t,null)}function t(e,t){var n,a,i,r,o,c=[];for(n in t)for(a=Array.isArray(t[n]),i=a?t[n]:[t[n]],r=0;r<i.length;r++)o=DOC.createElement("input"),o.type="hidden",o.name=n,o.value=i[r],e.appendChild(o),c.push(o);return c}avalon.ajaxConverters.arraybuffer=function(){var e=this.tranport&&this.tranport.responseBody;return e?new VBArray(BinaryToArray(e)).toArray():void 0},avalon.ajaxTransports.upload={request:function(){var n=this,a=this.options,i="iframe-upload-"+this.uniqueID,r=a.form,o=this.transport=e(i),c={target:r.target||"",action:r.action||"",enctype:r.enctype,method:r.method},s=a.data?t(r,a.data):[];r.target=i,r.action=a.url,r.method="POST",r.enctype="multipart/form-data",this.uploadcallback=avalon.bind(o,"load",function(e){n.respond(e)}),r.submit();for(var l in c)r[l]=c[l];s.forEach(function(e){r.removeChild(e)})},respond:function(e){var t,n=this.transport;if(n){if(e&&"load"===e.type){var a=n.contentWindow.document;this.responseXML=a,a.body&&(this.responseText=a.body.innerHTML,(t=a.body.firstChild)&&"PRE"===t.nodeName.toUpperCase()&&t.firstChild&&(this.responseText=t.firstChild.nodeValue)),this.dispatch(200,"success")}this.uploadcallback=avalon.unbind(n,"load",this.uploadcallback),delete this.uploadcallback,setTimeout(function(){n.parentNode.removeChild(n)})}}},delete avalon.fixAjax},avalon.fixAjax()}return avalon}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,n){var a,i;a=[n(4)],i=function(e){function t(e){return e}function n(e){throw e}function a(e){return this.then(e,n)}function i(e){return this.then(t,e)}function r(){var e={};return e.promise=new this(function(t,n){e.resolve=t,e.reject=n}),e}function o(e,t){if("boolean"==typeof e.async)var n=e.async;else n=e.async=!0;n?window.setTimeout(t,0):t()}function c(e,t){if("pending"===e._state)if(t&&"function"==typeof t.then){var n=t instanceof u?"_then":"then";t[n](function(t){l(e,t,!0)},function(t){l(e,t,!1)})}else l(e,t,!0)}function s(e,t){"pending"===e._state&&l(e,t,!1)}function l(e,t,n){e._fired=!0,e._value=t,e._state=n?"fulfilled":"rejected",o(e,function(){e._callbacks.forEach(function(t){e._fire(t.onSuccess,t.onFail)})})}function d(e,t){t=Array.isArray(t)?t:[];var n,a=0,i=[];return new u(function(r,o){function c(c,s){c.then(function(o){n||(i[s]=o,a++,(e||a>=t.length)&&(r(e?o:i),n=!0))},function(e){n=!0,o(e)})}t.length||r(i);for(var s=0,l=t.length;l>s;s++)c(t[s],s)})}var u=function(e){this._callbacks=[];var t=this;if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");e(function(e){c(t,e)},function(e){s(t,e)})};u.resolve=function(e){return new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.prototype={constructor:u,_state:"pending",_fired:!1,_fire:function(e,t){if("rejected"===this._state){if("function"!=typeof t)throw this._value;t(this._value)}else"function"==typeof e&&e(this._value)},_then:function(e,t){if(this._fired){var n=this;o(n,function(){n._fire(e,t)})}else this._callbacks.push({onSuccess:e,onFail:t})},then:function(e,a){e="function"==typeof e?e:t,a="function"==typeof a?a:n;var i=this,r=new u(function(t,n){i._then(function(a){try{a=e(a)}catch(i){return void n(i)}t(a)},function(e){try{e=a(e)}catch(i){return void n(i)}t(e)})});for(var o in i)f[o]||(r[o]=i[o]);return r},done:a,"catch":i,fail:i};var f={_state:1,_fired:1,_value:1,_callbacks:1};u.all=function(e){return d(!1,e)},u.race=function(e){return d(!0,e)},u.defer=r,e.Promise=u;var m=window.Promise;return/native code/.test(m)&&(m.prototype.done=a,m.prototype.fail=i,m.defer||(m.defer=r)),window.Promise=m||u}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t,n){var a,i;a=[n(4)],i=function(e){function t(e){return!e||e===window.name||"_self"===e||"top"===e&&window==window.top}function n(e){for(var t,n=0;t=e[n++];)if("A"===t.nodeName)return t}function a(e,t){(t=document.getElementById(e))?t.scrollIntoView():(t=n(document.getElementsByName(e)))?t.scrollIntoView():window.scrollTo(0,0)}var i=document.createElement("a"),r=e.History=function(){this.location=location};r.started=!1,r.IEVersion=function(){var e=document.documentMode;return e?e:window.XMLHttpRequest?7:6}(),r.defaults={basepath:"/",html5Mode:!1,hashPrefix:"!",iframeID:null,interval:50,fireAnchor:!0,routeElementJudger:e.noop};var o=window.VBArray&&r.IEVersion<=7,c=!!window.history.pushState,s=!(!("onhashchange"in window)||window.VBArray&&o);return r.prototype={constructor:r,getFragment:function(e){return null==e&&(e="popstate"===this.monitorMode?this.getPath():this.getHash()),e.replace(/^[#\/]|\s+$/g,"")},getHash:function(e){var t=(e||this).location.href;return this._getHash(t.slice(t.indexOf("#")))},_getHash:function(e){return 0===e.indexOf("#/")?decodeURIComponent(e.slice(2)):0===e.indexOf("#!/")?decodeURIComponent(e.slice(3)):""},getPath:function(){var e=decodeURIComponent(this.location.pathname+this.location.search),t=this.basepath.slice(0,-1);return e.indexOf(t)||(e=e.slice(t.length)),
e.slice(1)},_getAbsolutePath:function(e){return e.hasAttribute?e.href:e.getAttribute("href",4)},start:function(t){function n(e){var t=a.iframe;if("iframepoll"===a.monitorMode&&!t)return!1;var n,i=a.getFragment();if(t){var r=a.getHash(t);i!==a.fragment?(a._setIframeHistory(a.prefix+i),n=i):r!==a.fragment&&(a.location.hash=a.prefix+r,n=r)}else i!==a.fragment&&(n=i);void 0!==n&&(a.fragment=n,a.fireRouteChange(n,{fromHistory:!0}))}if(r.started)throw new Error("avalon.history has already been started");r.started=!0,this.options=e.mix({},r.defaults,t),this.html5Mode=!!this.options.html5Mode,this.monitorMode=this.html5Mode?"popstate":"hashchange",c||(this.html5Mode&&(e.log("如果浏览器不支持HTML5 pushState，强制使用hash hack!"),this.html5Mode=!1),this.monitorMode="hashchange"),s||(this.monitorMode="iframepoll"),this.prefix="#"+this.options.hashPrefix+"/",this.basepath=("/"+this.options.basepath+"/").replace(/^\/+|\/+$/g,"/"),this.fragment=this.getFragment(),i.href=this.basepath,this.rootpath=this._getAbsolutePath(i);var a=this,o="<!doctype html><html><body>@</body></html>";switch(this.options.domain&&(o=o.replace("<body>","<script>document.domain ="+this.options.domain+"</script><body>")),this.iframeHTML=o,"iframepoll"===this.monitorMode&&e.ready(function(){if(!a.iframe){var e=a.iframe||document.getElementById(a.iframeID)||document.createElement("iframe");e.src="javascript:0",e.style.display="none",e.tabIndex=-1,document.body.appendChild(e),a.iframe=e.contentWindow,a._setIframeHistory(a.prefix+a.fragment)}}),this.monitorMode){case"popstate":this.checkUrl=e.bind(window,"popstate",n),this._fireLocationChange=n;break;case"hashchange":this.checkUrl=e.bind(window,"hashchange",n);break;case"iframepoll":this.checkUrl=setInterval(n,this.options.interval)}e.ready(function(){a.fireRouteChange(a.fragment||"/",{replace:!0})})},fireRouteChange:function(t,n){var i=e.router;i&&i.navigate&&(i.setLastPath(t),i.navigate("/"===t?t:"/"+t,n)),this.options.fireAnchor&&a(t.replace(/\?.*/g,""))},stop:function(){e.unbind(window,"popstate",this.checkUrl),e.unbind(window,"hashchange",this.checkUrl),clearInterval(this.checkUrl),r.started=!1},updateLocation:function(t,n,a){var n=n||{},i=n.replace,r=n.silent;if("popstate"===this.monitorMode){var o=this.rootpath+t+(a||"");o!=this.location.href.split("#")[0]&&history[i?"replaceState":"pushState"]({path:o},document.title,o),r||this._fireLocationChange()}else{var c=this.prefix+t;r&&t!=this.getHash()&&(this._setIframeHistory(c,i),this.fragment&&e.router.setLastPath(this.fragment),this.fragment=this._getHash(c)),this._setHash(this.location,c,i)}},_setHash:function(e,t,n){var a=e.href.replace(/(javascript:|#).*$/,"");n?e.replace(a+t):e.hash=t},_setIframeHistory:function(e,t){if(this.iframe){var n=this.iframe.document;n.open(),n.write(this.iframeHTML),n.close(),this._setHash(n.location,e,t)}}},e.history=new r,e.bind(document,"click",function(n){var a="defaultPrevented"in n?n.defaultPrevented:n.returnValue===!1,i=e.history.options.routeElementJudger;if(!(a||n.ctrlKey||n.metaKey||2===n.which)){for(var r=n.target;"A"!==r.nodeName;)if(r=r.parentNode,!r||"BODY"===r.tagName)return;if(t(r.target)){var c=o?r.getAttribute("href",2):r.getAttribute("href")||r.getAttribute("xlink:href"),s=e.history.prefix;if(null===c)return;var l=c.replace(s,"").trim();0===c.indexOf(s)&&""!==l||(l=i(r,c),l===!0&&(l=c)),l&&(n.preventDefault(),e.router&&e.router.navigate(l))}}}),e}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t,n){var a,i;a=[n(19)],i=function(){function e(){var e={};"get,post,delete,put".replace(avalon.rword,function(t){e[t]=[]}),this.routingTable=e}function t(e){var t=e.split("?"),n={},a=t[0],i=t[1];if(i)for(var r,o=i.split("&"),c=o.length,s=0;c>s;s++)o[s]&&(r=o[s].split("="),n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]));return{path:a,query:n}}function n(e){if("string"==typeof e)return e;var t=[];for(var n in e)"query"!=n&&t.push(n+"="+encodeURIComponent(e[n]));return t.length?"?"+t.join("&"):""}function a(e,t,n){var a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;var i=n?"?":"";return a+i+"("+t+")"+i}function i(){try{return localStorage.setItem("avalon",1),localStorage.removeItem("avalon"),!0}catch(e){return!1}}function r(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})}function o(e,t){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=r(e)+"="+r(t)+";expires="+n.toGMTString()}function c(e){var t=String(document.cookie).match(new RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)"))||["",""];return decodeURIComponent(t[1])}var s=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g;if(e.prototype={error:function(e){this.errorback=e},_pathToRegExp:function(e,t){for(var n,i,r,o,c=t.keys=[],l="^",d=0;n=s.exec(e);){i=n[2]||n[3],r=n[4]||("*"==n[1]?".*":"string"),o=e.substring(d,n.index);var u=this.$types[r],f={name:i};u&&(r=u.pattern,f.decode=u.decode),c.push(f),l+=a(o,r,!1),d=s.lastIndex}o=e.substring(d),l+=a(o)+(t.strict?t.last:"/?")+"$";var m="boolean"==typeof t.caseInsensitive?t.caseInsensitive:!0;return t.regexp=new RegExp(l,m?"i":void 0),t},add:function(e,t,n,a){var i=this.routingTable[e.toLowerCase()];if("/"!==t.charAt(0))throw"path必须以/开头";a=a||{},a.callback=n,t.length>2&&"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1),a.last="/"),avalon.Array.ensure(i,this._pathToRegExp(t,a))},route:function(e,t,n){t=t.trim();for(var a,i=this.routingTable[e],r=0;a=i[r++];){var o=t.match(a.regexp);if(o){a.query=n||{},a.path=t,a.params={};var c=a.keys;return o.shift(),c.length&&this._parseArgs(o,a),a.callback.apply(a,o)}}this.errorback&&this.errorback()},_parseArgs:function(e,t){for(var n=t.keys,a=0,i=n.length;i>a;a++){var r=n[a],o=e[a]||"";if("function"==typeof r.decode)var c=r.decode(o);else try{o.match(/^[0-9]{17,}$/g)||o>"9007199254740992"||(c=JSON.parse(o))}catch(s){c=o}e[a]=t.params[r.name]=c}},getLastPath:function(){return c("msLastPath")},setLastPath:function(e){o("msLastPath",e)},redirect:function(e){this.navigate(e,{replace:!0})},navigate:function(e,n){var a=t(("/"!==e.charAt(0)?"/":"")+e),n=n||{};"/"===e.charAt(0)&&(e=e.slice(1)),avalon.state&&!n.silent||avalon.history&&avalon.history.updateLocation(e,avalon.mix({},n,{silent:!0})),n.silent||this.route("get",a.path,a.query,n)},when:function(e,t){var n=this,e=e instanceof Array?e:[e];return avalon.each(e,function(e,a){n.add("get",a,function(){var e=n.urlFormate(t,this.params,this.query);n.navigate(e.path+e.query,{replace:!0})})}),this},get:function(e,t){},urlFormate:function(e,t,a){var a=a?n(a):"",i=e.replace(s,function(e){var n=e.replace(/[\{\}]/g,"").split(":");return n=n[0]?n[0]:n[1],n in t?t[n]:""}).replace(/^\//g,"");return{path:i,query:a}},$types:{date:{pattern:"[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])",decode:function(e){return new Date(e.replace(/\-/g,"/"))}},string:{pattern:"[^\\/]*"},bool:{decode:function(e){return 0!==parseInt(e,10)},pattern:"0|1"},"int":{decode:function(e){return parseInt(e,10)},pattern:"\\d+"}}},"get,put,delete,post".replace(avalon.rword,function(t){return e.prototype[t]=function(e,n,a){this.add(t,e,n,a)}}),i()){e.prototype.getLastPath=function(){return localStorage.getItem("msLastPath")};var l;e.prototype.setLastPath=function(e){l&&(clearTimeout(l),l=null),localStorage.setItem("msLastPath",e),l=setTimeout(function(){localStorage.removItem("msLastPath")},864e5)}}return avalon.router=new e,avalon}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t,n){var a,i;a=[n(18),n(20)],i=function(){function e(){for(var e=S.oldNodes;e.length;){var t=e.length-1,n=e[t];n.parentNode&&n.parentNode.removeChild(n),e.splice(t,1),n=null}}function t(e,t,n){n in t&&(e[n]=t[n],delete t[n])}function a(){return document.getElementsByTagName("avalon")[0]}function i(e){var t,n=document.createDocumentFragment(),a=document.getElementById(e),i=a.eles,r=0;if(a)for(;t=i[r];)n.appendChild(t),r++;return n}function r(e,t){var n,a=document.createDocumentFragment(),i=document.getElementById(e);if(i||(i=document.createElement("div"),i.id=e,D.appendChild(i)),i.eles)avalon.each(i.eles,function(e,t){a.appendChild(t)});else{for(i.eles=[];n=t.firstChild;)a.appendChild(n),i.eles.push(n);I[e]=!0}i.appendChild(a)}function o(e,t,n,a){var i=S.lastLocal;if(i&&(t[0]||e[0])){var o=S._local,c=[];for(var s in i){var l=i[s];if(!(s in o)||o[s]!=l){if(l.$ctrl&&"$onBeforeUnload"in l.$ctrl&&l.$ctrl.$onBeforeUnload(n,a)===!1)return!1;l.element&&e[0]!=t[0]&&c.push(l)}}avalon.each(c,function(e,t){var n=t.element,a=avalon(n).data("currentCache");a&&r(a,n)}),c=null}}function c(e,t,n,a){if(n.hasClass("oni-mmRouter-slide")){var i=t.cloneNode(!0);i.setAttribute("ms-skip","true"),avalon(i).removeClass("oni-mmRouter-enter").addClass("oni-mmRouter-leave"),avalon(t).addClass("oni-mmRouter-enter"),t.parentNode.insertBefore(i,t),S.oldNodes.push(i),f("onViewEnter",a,t,i)}return t}function s(e,t){return avalon.mix(new(avalon.mix(function(){},{prototype:e})),t)}function l(e){return e instanceof Error}function d(e){if(l(e))throw e;f("onError",S,e,e&&e.state)}function u(e){var t=avalon.isFunction(e)?new Promise(e):Promise.all(e);return t}function f(e,t){return _.$fire.apply(_,arguments),avalon.state[e]?avalon.state[e].apply(t||S.currentState,[].slice.call(arguments,2)):0}function m(e,t){if(!(this instanceof m)){var n=C[e]=new m(e,t||{});return n}this.stateName=e,this.formate(t)}function p(){return this instanceof p?void(this.$vmodels=[]):new p}function h(e,t){if(!e||!t)return!1;for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var n in t)if(!(n in e)||e[n]!==t[n])return!1;return!0}function v(e){return C[e]}function g(e,t){var n,t=t||"ms-view";return n=e.querySelectorAll?e.querySelectorAll("["+t+"]"):Array.prototype.filter.call(e.getElementsByTagName("*"),function(e){return"string"==typeof e.getAttribute(t)})}function b(e,t,n){var a=u(function(a,i){var r="function"==typeof e?e(t):e;"string"==typeof r?a(r):(n.message="template必须对应一个字符串或一个返回字符串的函数",i(n))});return a}function y(e,t,n){var a=u(function(a,i){return"function"==typeof e&&(e=e(t)),"string"!=typeof e?(n.message="templateUrl必须对应一个URL",i(n)):avalon.templateCache[e]?a(avalon.templateCache[e]):void avalon.state.templateLoader(e,a,i,n)});return a}function x(e,t,n){var a=u(function(a,i){if("function"==typeof e){var r=e(t);r&&r.then||"string"==typeof r?a(r):(n.message="templateProvider为函数时应该返回一个Promise或thenable对象或字符串",i(n))}else e&&e.then?a(e):(n.message="templateProvider不为函数时应该对应一个Promise或thenable对象",i(n))});return a}function $(e,t,n){return e.template?b(e.template,t,n):e.templateUrl?y(e.templateUrl,t,n):e.templateProvider?x(e.templateProvider,t,n):u(function(e,t){n.message="必须存在template, templateUrl, templateProvider中的一个",t(n)})}avalon.router.route=function(e,t,n,a){t=t.trim();for(var i,r=this.routingTable[e],o=0;i=r[o++];){var c=t.match(i.regexp);if(c&&i["abstract"]!==!0){var s={params:{}};return avalon.mix(s.params,i.params),s.keys=i.keys,s.params.query=n||{},c.shift(),i.keys.length&&this._parseArgs(c,s),void(i.stateName?S.transitionTo(S.currentState,i,s.params,a):i.callback.apply(i,c))}}this.errorback&&this.errorback()};var w,k,C={};avalon.router.go=function(e,t,n){var a=S.currentState,i=m.is(e)?e:v(e),t=t||{},t=avalon.mix(!0,{},i.params,t);i&&S.transitionTo(a,i,t,n)};var _=window.$eventManager=avalon.define({$id:"$eventManager",$flag:0,uiqKey:function(){return _.$flag++,"flag"+_.$flag++}});_.$watch("onAbort",e);var S=window.mmState={prevState:NaN,currentState:NaN,activeState:NaN,oldNodes:[],query:{},popOne:function(e,t,n,a){if(S._toParams!==t)return n(!1,{type:"abort"});var i=e.pop(),r=this;if(!i)return n();if(a&&i.onBeforeExit()===!1)return n(!1);r.activeState=i.parentState||w,i.done=function(o){return i._pending=!1,i.done=null,i._local=null,o!==!1&&r.activeState?r.popOne(e,t,n,a):n(o)};var o=i.onExit();!i._pending&&i.done&&i.done(o)},pushOne:function(e,t,n,a,i){if(S._toParams!==t)return n(!1,{type:"abort"});var r=e.shift(),o=this;if(!r)return e=null,n();if(r.syncParams(t),r.onBeforeEnter()===!1)return r.syncParams(r.oldParams),n(!1);var a=s(a);o.activeState=r,r.done=function(i){if(r.done){if(r._pending=!1,r.done=null,r.visited=!0,i===!1)return n(i);var c=r.callback.apply(r,[t,a]);c.$then(function(i){avalon.mix(!0,r.oldParams,r.params),o.pushOne(e,t,n,a)})}};var c=[];avalon.each(r.keys,function(e,t){var n=t.name;c.push(r.params[n])}),r._onEnter.apply(r,c),!r._pending&&r.done&&r.done()},transitionTo:function(e,t,n,a){var i,n=n||t.params;this.activeState&&this.activeState!=this.currentState&&(avalon.log("navigating to ["+this.currentState.stateName+"] will be stopped, redirect to ["+t.stateName+"] now"),this.activeState.done&&this.activeState.done(!1),e=this.activeState,i=!0),S.oldNodes=[];var r,c,l=avalon.router.urlFormate(t.url,n,n.query),d=this,a=a||{},m=a.reload,p=e&&e.chain||[],h=t.chain,v=0,g=h[v],b=w.sourceLocal,y=[],x=[],$={},k=[].concat(p).concat(h);avalon.each(k,function(e,t){var n=t.stateUrl;n&&(t._stateUrl=n,delete t.stateUrl,n in $||($[n]="",x.push(u(function(e,a){avalon.controller.loader(n,function(n){avalon.mix(t,n),t.initViewsConfig(),e()})}))))}),k=$=null,u(x).then(function(){if(!m)for(;g&&g===p[v]&&!g.paramsChanged(n);)b=y[v]=g._local,v++,g=h[v];for(var u=p.slice(v),x=h.slice(v),$=b;g=h[v];)b=y[v]=s(b,g.sourceLocal),v++;return S._local=b,done=function(a,i){return r?void 0:(r=!0,d.currentState=d.activeState,x=u=$=b=n=null,S.oldNodes=[],a===!1?f("onError",d,{type:"transition",message:"transitionTo "+t.stateName+" faild",error:i,fromState:e,toState:t,params:n},d.currentState):(S.lastLocal=S.currentState._local,w.fire("updateview",d.currentState,c),avalon.log("transitionTo "+t.stateName+" success"),f("onLoad",d,e,t),void 0))},t.path=("/"+l.path).replace(/^[\/]{2,}/g,"/"),m||e!==t||(c=t.paramsChanged(n))?(S.query=avalon.mix({},n.query),!a||a.confirmed||f("onBeforeUnload",d,e,t)!==!1&&o(u,x,e,t)!==!1?void(r!==!0&&(avalon.log("begin transitionTo "+t.stateName+" from "+(e&&e.stateName||"unknown")),f("onUnload",d,e,t),d.currentState=t,d.prevState=e,S._toParams=n,l&&avalon.history&&(avalon.history.updateLocation?avalon.history.updateLocation(l.path+l.query,avalon.mix({silent:!0},a),!e&&location.hash):avalon.history.navigate(l.path+l.query,avalon.mix({silent:!0},a))),f("onBegin",d,e,t),d.popOne(u,n,function(e){return e===!1?done(e):void d.pushOne(x,n,done,$,y)},!(a&&a.confirmed)))):f("onAbort",d,e,t)):t==d.activeState&&i?done():void 0},function(){throw new Error("加载stateUrl资源失败")})}},I={},D=a();avalon.bindingHandlers.view=function(e){function t(u,h,b){if(!document.contains(s))return e=n=a=l=s=r=m=t=null,!1;var y,x=r.data("statename")||"",$=v(x)||w;if(o.indexOf("@")<0&&(o+="@"+$.stateName),y=S.currentState._local&&S.currentState._local[o],(!u||y)&&f!==y){f=y,_currentState=y&&y.state;var k=r.data("viewCache"),C=r.data("currentCache");if(y?k=(y.viewCache===!1?!1:y.viewCache||k)&&o+"@"+_currentState.stateName:k&&(k=o+"@__default__"),!(y&&_currentState===h&&y.ignoreChange&&y.ignoreChange(b,o)||k&&k===C)){c(p,a,r,_currentState);var _,D=y?y.template:d;if(k&&(y?y.element=a:S.currentState._local[o]={state:S.currentState,template:d,element:a}),avalon.clearHTML(a),a.removeAttribute("ms-view"),a.setAttribute("ui-view",e.value||e.expr||""),k){if(_=I[k]?i(k):avalon.parseHTML(D),a.appendChild(_),r.data("currentCache",k),I[k])return}else a.innerHTML=D,r.data("currentCache",!1);!y&&k&&r.data("currentCache",k),avalon.each(g(a),function(e,t){avalon(t).data("statename",_currentState&&_currentState.stateName||"")}),avalon.scan(a,(y&&y.vmodels||[]).concat(n||[])),y&&y.$ctrl&&y.$ctrl.$onRendered&&y.$ctrl.$onRendered.apply(a,[y])}}}e.expr="'"+(e.expr||"")+"'";var n=e.vmodels||arguments[1],a=(S.currentState,e.element),r=avalon(a),o=(e.value||e.expr||"").replace(/['"]+/g,""),s=document.createComment("ms-view:"+o),l=a.parentNode,d=a.innerHTML,u=r.data("statename")||"",f=(v(u)||w,{}),m=a,p=a.outerHTML;a.removeAttribute("ms-view"),l.insertBefore(s,a),t("firsttime"),w.watch("updateview",function(e,n){return t.call(this,k,e,n)})},avalon.directives&&avalon.directive("view",{init:avalon.bindingHandlers.view}),avalon.state=function(e,t){var n=m(e,t);return avalon.router.get(n.url,function(e,t){var a,i,r=this,o=[],c=[],s=[];return n.resolved=u(function(e,t){a=e,i=t}),avalon.each(n.views,function(e,a){var i=r.params,l={type:"view",name:e,params:i,state:n,view:a},d=t[e]={name:e,state:n,params:n.filterParams(i),ignoreChange:"ignoreChange"in a?a.ignoreChange:r.ignoreChange,viewCache:"viewCache"in a?a.viewCache:r.viewCache},f=$(a,i,l);o.push(f),f.then(function(e){d.template=e},avalon.noop);var m,p=function(e){d.vmodels=e.$vmodels,a.$controller=d.$ctrl=e,h()},h=function(){var e=a.$controller&&a.$controller.$onEnter;if(e){var t=u(function(t,a){var r={type:"data",state:n,params:i},o=e(i,t,function(e){r.message=e,a(r)});o&&o.then?(c.push(o),o.then(function(){t(o)})):o&&o!==!0?(r.message=o,a(r)):o===k&&t()});t=t.then(function(e){avalon.isFunction(e)&&s.push(e)}),c.push(t)}};if(a.$controller&&a.cacheController!==!1)return p(a.$controller);if(a.controller)m=f.then(function(){p(avalon.controller(a.controller))});else if(a.controllerUrl)m=u(function(e,t){var n=avalon.isFunction(a.controllerUrl)?a.controllerUrl(i):a.controllerUrl;n=n instanceof Array?n:[n],avalon.controller.loader(n,function(t){f.then(function(){p(t),e()})})});else if(a.controllerProvider){var v=avalon.isFunction(a.controllerProvider)?a.controllerProvider(i):a.controllerProvider;m=u(function(e,t){v&&v.then?(c.push(v),v.then(function(t){f.then(function(){p(t),e()})},function(e){l.message=e,t(l)})):f.then(function(){p(v),e()})})}m&&m.then&&o.push(m)}),u(o).$then(function(e){n._local=t,u(c).$then(function(){avalon.each(s,function(e,t){t()}),o=c=s=null,a()})}),n.resolved},n),this},Promise.prototype.$then=function(e,t){var n=this.then(e,t);return n["catch"](d),n},avalon.state.onViewEntered=function(e,t){e!=t&&t.parentNode.removeChild(t)},avalon.state.config=function(e){return avalon.mix(avalon.state,e||{}),avalon},m.is=function(e){return e instanceof m},m.prototype={formate:function(e){avalon.mix(!0,this,e);var t=this.stateName,n=this,a=t.split("."),i=a.length-1;this.chain=[],avalon.each(a,function(e,t){if(e==i)n.chain.push(n);else{var r=a.slice(0,e+1).join("."),o=v(r);if(!o)throw new Error("必须先定义"+r);n.chain.push(o)}}),void 0===this.url&&(this["abstract"]=!0);var r=this.chain[i-1]||w;r&&(this.url=r.url+(this.url||""),this.parentState=r),this.stateUrl||this.initViewsConfig(),this._self=e,this._pending=!1,this.visited=!1,this.params=s(r&&r.params||{}),this.oldParams={},this.keys=[],this.events={}},initViewsConfig:function(){var e=this,n=this.sourceLocal={},a=this.statename,i=this.parentState;if(!this.views&&""!=a){var r={};"template,templateUrl,templateProvider,controller,controllerUrl,controllerProvider,viewCache".replace(/\w+/g,function(n){t(r,e,n)});var o="viewname"in this?this.viewname:"";this.views={},this.views[o]=r}var c={},s=this.views instanceof Array;avalon.each(this.views,function(e,t){var a=s?t.name||"":e;a.indexOf("@")<0&&(a+="@"+(i?i.stateName||"":"")),c[a]=t,n[a]={}}),this.views=c},watch:function(e,t){var n=this.events[e]||[];return this.events[e]=n,n.push(t),t},fire:function(e,t){for(var n=this.events[e]||[],a=0;n[a];){var i=n[a].apply(this,[].slice.call(arguments,1));i===!1?n.splice(a,1):a++}},unwatch:function(e,t){var n=this.events[e];if(n)for(var a=0;n[a];){if(n[a]==t)return n.splice(a,1);a++}},paramsChanged:function(e){var t=!1,n=this.keys,a=this.params;return avalon.each(n,function(n,i){var r=i.name;a[r]!=e[r]&&(t="param")}),t||S.currentState!==this||(t=!h(e.query,S.query)&&"query"),t},filterParams:function(e){var t=avalon.mix(!0,{},this.params),n=this.keys;return avalon.each(n,function(n,a){t[a.name]=e[a.name]}),t},syncParams:function(e){var t=this;avalon.each(this.keys,function(n,a){var i=a.name;i in e&&(t.params[i]=e[i])})},_onEnter:function(){this.query=this.getQuery();var e=this,t=Array.prototype.slice.call(arguments),n=e._async();u(function(a,i){var r={type:"data",state:e,params:e.params},o=function(t){r.message=t,n.apply(e,[!1]),i(r)},c=function(){n.apply(e),a()},s=e.onEnter.apply(e,t.concat([c,o]));s&&s.then?s.then(c)["catch"](d):s&&s!==!0?o(s):s===k&&c()})},getQuery:function(){return S.query},getParams:function(){return this.params},_async:function(){return this.done&&(this._pending=!0),this.done||avalon.noop},onBeforeEnter:avalon.noop,onEnter:avalon.noop,onBeforeExit:avalon.noop,onExit:avalon.noop},w=m("",{url:"",views:null,"abstract":!0}),avalon.controller=function(){var e=arguments[0],t=arguments[1];if(e&&e instanceof p)return e;var n=p();if(avalon.isFunction(e))e(n);else if(avalon.isFunction(t))n.name=e,t(n);else{if("string"!=typeof e&&"object"!=typeof e)throw new Error("参数错误"+arguments);e=e instanceof Array?e:Array.prototype.slice.call(arguments),avalon.each(e,function(t,a){"string"==typeof a&&(e[t]=avalon.vmodels[a]),a=e[t],"$onRendered"in a&&(n.$onRendered=a.$onRendered),"$onEnter"in a&&(n.$onEnter=a.$onEnter)}),n.$vmodels=e}return n},avalon.controller.loader=function(e,t){function a(e){t&&t(e)}if(e=e instanceof Array?e:[e],window.requirejs)requirejs(e,a);else if(n(22).ensure)n(22).ensure(e,a);else{if(!avalon.require)throw Error('未能找有效的模块加载器异步加载"'+e+'"，请参照mmState.js的avalon.controller.loader源码进行修改');avalon.require(e,a)}},p.prototype={};var V=function(){return new(window.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")};avalon.state.templateLoader=function(e,t,n,a){var i=V();i.onreadystatechange=function(){if(4===i.readyState){var r=i.status;r>399&&600>r?(a.message="templateUrl对应资源不存在或没有开启 CORS",a.status=r,a.xhr=i,n(a)):t(avalon.templateCache[e]=i.responseText)}},i.open("GET",e,!0),"withCredentials"in i&&(i.withCredentials=!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send()}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t,n){function a(e){return n(i(e))}function i(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./mmHistory":19,"./mmHistory.js":19,"./mmPromise":23,"./mmPromise.js":23,"./mmRouter":20,"./mmRouter.js":20,"./mmState":21,"./mmState.js":21};a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=22},function(e,t,n){var a,i;a=[n(4)],i=function(e){function t(e){return e}function n(e){throw e}function a(e){return this.then(e,n)}function i(e){return this.then(t,e)}function r(){var e={};return e.promise=new this(function(t,n){e.resolve=t,e.reject=n}),e}function o(e,t){if("boolean"==typeof e.async)var n=e.async;else n=e.async=!0;n?window.setTimeout(t,0):t()}function c(e,t){if("pending"===e._state)if(t&&"function"==typeof t.then){var n=t instanceof u?"_then":"then";t[n](function(t){l(e,t,!0)},function(t){l(e,t,!1)})}else l(e,t,!0)}function s(e,t){"pending"===e._state&&l(e,t,!1)}function l(e,t,n){e._fired=!0,e._value=t,e._state=n?"fulfilled":"rejected",o(e,function(){e._callbacks.forEach(function(t){e._fire(t.onSuccess,t.onFail)})})}function d(e,t){t=Array.isArray(t)?t:[];var n,a=0,i=[];return new u(function(r,o){function c(c,s){c.then(function(o){n||(i[s]=o,a++,(e||a>=t.length)&&(r(e?o:i),n=!0))},function(e){n=!0,o(e)})}t.length||r(i);for(var s=0,l=t.length;l>s;s++)c(t[s],s)})}var u=function(e){this._callbacks=[];var t=this;if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");e(function(e){c(t,e)},function(e){s(t,e)})};u.resolve=function(e){return new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.prototype={constructor:u,_state:"pending",_fired:!1,_fire:function(e,t){if("rejected"===this._state){if("function"!=typeof t)throw this._value;t(this._value)}else"function"==typeof e&&e(this._value)},_then:function(e,t){if(this._fired){var n=this;o(n,function(){n._fire(e,t)})}else this._callbacks.push({onSuccess:e,onFail:t})},then:function(e,a){e="function"==typeof e?e:t,a="function"==typeof a?a:n;var i=this,r=new u(function(t,n){i._then(function(a){try{a=e(a)}catch(i){return void n(i)}t(a)},function(e){try{e=a(e)}catch(i){return void n(i)}t(e)})});for(var o in i)f[o]||(r[o]=i[o]);return r},done:a,"catch":i,fail:i};var f={_state:1,_fired:1,_value:1,_callbacks:1};u.all=function(e){return d(!1,e)},u.race=function(e){return d(!0,e)},u.defer=r,e.Promise=u;var m=window.Promise;return/native code/.test(m)&&(m.prototype.done=a,m.prototype.fail=i,m.defer||(m.defer=r)),window.Promise=m||u}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t,n){var a,i;a=[n(4),n(25),n(26)],i=function(e,t){var n=function(){};e.component("mc:accordion",{tindex:-1,tdata:"",active:0,padding:15,panels:[],onChanged:n,isInit:!0,extend:{},$allPanelBody:null,renderTestIn:n,renderTest:n,onInit:n,initTableData:n,renderContent:n,clickPanel:n,_trigger:n,setActive:n,getActive:n,$template:t,$replace:!0,$construct:function(t,n,a){if(void 0!=n.panels)for(var i=0;i<n.panels.length;i++)t["content"+i]="";var r=e.mix(t,n,a);return r},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e._trigger=function(t,n){switch(n){case"changed":"function"==typeof e.onChanged&&e.onChanged(t,{setActive:e.setActive,getActive:e.getActive})}},e.renderContent=function(t){return e["content"+t]},e.clickPanel=function(t,n){n!=e.active?(e.$allPanelBody.eq(e.active).slideUp(300),e.$allPanelBody.eq(n).slideDown(300),e.active=n):(e.$allPanelBody.eq(n).slideUp(300),e.active=-1)},e.setActive=function(t){t!=e.active&&(e.$allPanelBody.eq(e.active).slideUp(300),e.$allPanelBody.eq(t).slideDown(300),e.active=t)},e.getActive=function(){return e.active},e.$watch("active",function(t,n){-1!=t&&-1!=n&&(e._trigger({newVal:t,oldVal:n},"changed"),"function"==typeof e.panels[t].fun&&e.panels[t].fun({newVal:t,oldVal:n},e))})},$ready:function(e,t){e.$allPanelBody=$(t).find(".panel-body"),e.$allPanelBody.eq(e.active).slideDown(0),e.onInit(e,t),e.initTableData(e,t),e.isInit=!1,"function"==typeof e.panels[e.active].fun&&e.panels[e.active].fun({},e)}});var a=e.components["mc:accordion"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-accordion-cotar">\r\n    <div class="panel-wrap" ms-repeat="panels" ms-class="last:$last" ms-class-1="active:$index==active">\r\n        <div class="panel-header" ms-click="clickPanel($event, $index)">\r\n            <!--<h4 class="panel-title">\r\n                <a href="javascript:void(0)">{{el.title}}</a>\r\n            </h4>-->\r\n            <a href="javascript:void(0)">{{el.title}}</a>\r\n        </div>\r\n        <div class="panel-body" ms-css-padding="padding">\r\n            {{renderContent($index)|html}}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'},function(e,t){},function(e,t,n){var a,i;(function(r){toSideBarData=function(e){var t=[];return avalon.each(e,function(e,n){t.push(n),n.select=n.select||!1,n.children=n.children||[],n.children.length&&(n.children=toSideBarData(n.children))}),t},a=[n(4),n(28),n(29)],i=function(e,t){var n=function(){};e.component("mc:sidebar",{active:0,padding:0,sidebarList:[],isInit:!0,extend:{},$allPanel:null,$allPanelBody:null,onInit:n,changeData:n,renderContent:n,clickPanel:n,_trigger:n,setActive:n,getActive:n,setSelect:n,$template:t,$replace:!0,$construct:function(t,n,a){n.data&&("function"==typeof n.data&&(n.data=n.data()),n.data=toSideBarData(n.data));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=""},$init:function(t,n){t._trigger=function(e,n){switch(n){case"changed":"function"==typeof t.onChanged&&t.onChanged(e,{setActive:t.setActive,getActive:t.getActive})}},t.renderContent=function(e){return t["content"+e]},t.changeData=function(e){t.sidebarList=toSideBarData(e)},t.clickPanel=function(n,a){e.log(a),a!=t.active?(t.$allPanelBody.eq(t.active).slideUp(300),t.$allPanelBody.eq(a).slideDown(300),t.active=a):(t.$allPanelBody.eq(a).slideUp(300),t.active=-1)},t.setActive=function(e){e!=t.active&&(t.$allPanelBody.eq(t.active).slideUp(300),t.$allPanelBody.eq(e).slideDown(300),t.active=e)},t.getActive=function(){return t.active},t.setSelect=function(e){t.sidebarList.forEach(function(t){t.href&&(t.select=!1,t.href.toLowerCase().indexOf(e.toLowerCase())>-1&&(t.select=!0)),r.each(t.children,function(e){e.select=!1}),r.find(t.children,function(t){return t.href.toLowerCase().indexOf(e.toLowerCase())>-1?(t.select=!0,!1):void 0})})},t.$watch("sidebarList",function(e,n){setTimeout(function(){t.$allPanelBody=$(".mc-accordion-cotar .panel-body")},500)})},$ready:function(e,t){e.$allPanelBody=$(t).find(".panel-body"),e.$allPanelBody.eq(e.active).slideDown(0),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:sidebar"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t){e.exports='<div class="mc-sidebar-cotar" ms-class="mc-loading: isInit">\r\n    <div class="mc-accordion-cotar" ms-repeat="sidebarList">\r\n        <div class="panel-wrap" ms-class="last:$last" ms-class-1="active:$index==active" ms-if="el.children.length>0">\r\n            <div class="panel-header" ms-click="clickPanel($event, $index)">\r\n                <a href="javascript:void(0)">{{el.text}}</a>\r\n            </div>\r\n            <div class="panel-body" ms-css-padding="padding">\r\n                <div class="mc-accordion-cotar" ms-repeat-el="el.children">\r\n                    <div class="link-bar hf" ms-class-1="select:el.select">\r\n                        <a class="fp" ms-attr-href="el.href ? el.href : \'javascript:void(0)\'">{{el.text}}</a>\r\n                        <div class="fp" ms-if="el.$btn_opt">\r\n                            <mc:button ms-attr-config="el.$btn_opt"></mc:button>\r\n                            <!--<mc:droplist config="$droplist_opt"></mc:droplist>-->\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="panel-wrap" ms-class="last:$last" ms-class-1="active:$index==active" ms-if="el.children.length==0">\r\n            <div class="panel-header" ms-class-1="select:el.select">\r\n                <a ms-attr-href="el.href ? el.href : \'javascript:void(0)\'">{{el.text}}</a>\r\n            </div>\r\n            <div class="panel-body"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(31),n(32)],i=function(e,t){var n=function(){};e.component("mc:sidepop",{headerHeight:0,footerHeight:0,size:"normal",padding:15,show:!1,onInit:n,onShow:null,onClose:null,onChange:null,sidePopShow:n,sidePopHide:n,isInit:!0,extend:{},$scrollBody:$({}),showAnimate:!1,hideAnimate:!1,clickSidePop:n,_trigger:n,cheader:"",cbody:"",cfooter:"",$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickSidePop=function(e){-1===e.target.id.indexOf("_ueditor")&&(e.cancelBubble=!0,window.event.cancelBubble=!0)},e._trigger=function(t,n){switch(n){case"show":"function"==typeof e.onShow&&e.onShow(t,e);break;case"close":"function"==typeof e.onClose&&e.onClose(t,e);break;case"change":"function"==typeof e.onChanger&&e.onChanger(t,e)}},e.sidePopShow=function(){e.show?e.$scrollBody.scrollTop(0):(e.show=!0,e.showAnimate=!0,setTimeout(function(){e.showAnimate=!1},350),e._trigger({},"show"))},e.sidePopHide=function(){e.show&&(e.hideAnimate=!0,setTimeout(function(){e.hideAnimate=!1,e.show=!1},350),e._trigger({},"hide"))},e.$watch("show",function(t,n){e.$scrollBody.scrollTop(0),e._trigger({newState:t,oldState:n},"change")})},$ready:function(e,t){e.$scrollBody=$(t).find(".mc-scroll-wrap"),e.onInit(e,t),e.isInit=!1,McAvalon.$window.on("window_click",function(t,n){-1===n.target.id.indexOf("_ueditor")&&e.sidePopHide()})}});var a=e.components["mc:sidepop"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-sidepop-cotar" ms-class-1="mc-sidepop-lg: size==\'large\'" ms-class-2="mc-sidepop-sm: size==\'small\'"\r\n     ms-class-3="mc-sidepop-page: size==\'page\'" ms-class-4="mc-sidepop-show: show"\r\n     ms-class-5="mc-hide-animate: hideAnimate" ms-class-6="mc-show-animate: showAnimate" ms-class-7="mc-loading: isInit"\r\n     ms-click="clickSidePop($event)">\r\n    <div class="mc-sidepop-wrap">\r\n        <div class="mc-sidepop-header" ms-if="headerHeight" ms-css-height="headerHeight">\r\n            {{cheader|html}}\r\n        </div>\r\n        <div class="mc-scroll-wrap" ms-css-top="headerHeight" ms-css-bottom="footerHeight">\r\n            <div class="mc-sidepop-body" ms-css-padding="padding">\r\n                {{cbody|html}}\r\n            </div>\r\n        </div>\r\n        <div class="mc-sidepop-footer" ms-if="footerHeight" ms-css-height="footerHeight">\r\n            {{cfooter|html}}\r\n        </div>\r\n    </div>\r\n</div>\r\n';
},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(34),n(35),n(36),n(10)],i=function(e,t){var n=function(){};e.component("mc:datagrid",{title:"",name:null,tableConfig:[],data:[],minWidth:0,sortActive:!0,dataGridState:0,$checkBoxAllVm:null,getCheckBoxAllVm:n,$childCheckBoxVm:[],$CheckBoxBaseIndex:-1,getChildCheckBoxVm:n,$childButtonVm:[],$buttonBaseIndex:-1,getChildButtonVm:n,selectAll:n,selectRow:n,setSwitch:n,clickSwitch:n,setSelect:n,changeSelect:n,clickButton:n,formName:"",bindSize:"",allHasWidth:!0,otherOffset:0,scrollContentOffset:37,extendOffset:0,onInit:n,onSelected:null,onChanged:null,onClickRow:null,getData:n,setData:n,getSelectedRow:n,getSelectedValue:n,setRowState:n,setRowSelected:n,removeRow:n,insertRow:n,deleteRow:n,isInit:!0,extend:{},selected:[],lindex:-1,$headerContent:"",$headTypeList:{checkbox:1},$typeList:{checkbox:1,btn:2,img:3,time:4,"switch":5,selectbox:6,icon:7,html:8},$datagridBody:null,sort:n,clickRow:n,_trigger:n,datagridRendered:n,hideDataGrid:n,renderHeader:n,renderContent:n,renderHref:n,renderBtn:n,renderStyle:n,isSelected:n,dataHeadType:n,datagridType:n,updateSelected:n,updateChildVm:n,removeChildVm:n,addChildVm:n,setValue:n,$template:t,$replace:!0,$construct:function(t,n,a){n.data?n.data.length?t.dataGridState=1:t.dataGridState=2:t.dataGridState=0,n.name||a.name||(t.name=McAvalon.util.genId("datagrid")),n.data&&(n.data=toDatagridData(n.data,t));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.$checkBoxAllVm=null,t.getCheckBoxAllVm=function(e,n){t.$checkBoxAllVm=e},t.$childCheckBoxVm=[],t.$CheckBoxBaseIndex=-1,t.getChildCheckBoxVm=function(n,a){t.data[n.trindex].$tableChildVM.checkboxVM||e.mix(t.data[n.trindex].$tableChildVM,{checkboxVM:[]}),t.data[n.trindex].$tableChildVM.checkboxVM.push(n)},t.$childButtonVm=[],t.$buttonBaseIndex=-1,t.getChildButtonVm=function(n,a){t.data[n.trindex].$tableChildVM.ButtonVM||e.mix(t.data[n.trindex].$tableChildVM,{ButtonVM:[]}),t.data[n.trindex].$tableChildVM.ButtonVM.push(n)},t.selectAll=function(n,a){a.isChecked()?(e.each(t.data,function(t,n){e.each(n.$tableChildVM.checkboxVM,function(e,t){t.setChecked(!0)})}),t.setRowState(!0)):(e.each(t.data,function(t,n){e.each(n.$tableChildVM.checkboxVM,function(e,t){t.setChecked(!1)})}),t.setRowState(!1))},t.selectRow=function(e,n){n.isChecked()?t.setRowState(n.trindex,!0):(t.$checkBoxAllVm&&t.$checkBoxAllVm.isChecked()&&t.$checkBoxAllVm.setChecked(!1),t.setRowState(n.trindex,!1))},t.setSwitch=function(n,a){var i=n.trindex,r=n.tdindex,o=!!t.tableConfig[r].readonly;n.setValue(t.data[i]&&t.data[i][t.tableConfig[r].dataId],o),t.data[n.trindex].$tableChildVM.switchVM||e.mix(t.data[n.trindex].$tableChildVM,{switchVM:[]}),t.data[n.trindex].$tableChildVM.switchVM.push(n)},t.clickSwitch=function(e,n){"function"==typeof t.tableConfig[n.tdindex].onClick&&t.tableConfig[n.tdindex].onClick(t,n)},t.$selectbox_opt=t.$selectbox_opt,t.setSelect=function(n,a){var i=n.trindex,r=n.tdindex,o=!!t.tableConfig[r].readonly,c=t.tableConfig[r].$selectbox_opt;n.data=c&&c.data,n.setValue(t.data[i]&&t.data[i][t.tableConfig[r].dataId],o),t.data[n.trindex].$tableChildVM.selectboxVM||e.mix(t.data[n.trindex].$tableChildVM,{selectboxVM:[]}),t.data[n.trindex].$tableChildVM.selectboxVM.push(n)},t.changeSelect=function(e,n){"function"==typeof t.tableConfig[n.tdindex].onClick&&t.tableConfig[n.tdindex].onClick(t,n)},t.clickButton=function(e,n){"function"==typeof t.tableConfig[n.tdindex].onClick&&t.tableConfig[n.tdindex].onClick(t,n)},t.clickRow=function(e,n){return t._trigger(e,"clickRow",n),e.stopPropagation(),t},t.sort=function(e,n){"function"==typeof t.tableConfig[n].sort&&(t.data.sort(function(e,a){return t.sortActive?t.tableConfig[n].sort(e,a):!t.tableConfig[n].sort(e,a)}),t.sortActive=!t.sortActive,e.stopPropagation())},t._trigger=function(e,n,a){switch(n){case"selected":"function"==typeof t.onSelected&&t.onSelected(e,t,a);break;case"changed":"function"==typeof t.onChanged&&t.onChanged(e,t,a);break;case"clickRow":"function"==typeof t.onClickRow&&t.onClickRow(e,t,a)}},t.renderHeader=function(){return t.$headerContent},t.renderContent=function(e,n){var a=t.data[e]&&t.data[e][t.tableConfig[n].dataId];return"time"===t.tableConfig[n].type?1e3*(a>>0):"img"===t.tableConfig[n].type?-1!==a.indexOf(",")?a.split(",")[0]:a:(t.tableConfig[n].filter&&(a=t.tableConfig[n].filter(a)),a)},t.renderHref=function(e,n){if(t.data[e]){var a=t.tableConfig[n].$params,i=t.tableConfig[n].tdlink;return a&&a.length&&(i+="?",$.each(a,function(n,a){0!==n&&(i+="&"),i+=a+"="+t.data[e][a]})),i}},t.renderBtn=function(e,n){return t.tableConfig[n].label},t.renderStyle=function(){var e="";if(t.name){e+="<style>";var n=0;t.allHasWidth=!0;for(var a=0;a<t.tableConfig.length;a++){var i=t.tableConfig[a].width>>0;i?(e+="."+t.name+" .col-"+a+"{width:"+i+"px}",n+=i):t.allHasWidth=!1}e+="."+t.name+" .mc-datagrid-scroll-cotar{",t.allHasWidth&&(e+="width:"+n+"px;",t.extendOffset=18),e+="min-width:"+(t.minWidth>>0)+"px;",e+="}",e+="</style>"}return e},t.isSelected=function(e){return t.data[e].selected},t.dataHeadType=function(e){return t.$headTypeList[t.tableConfig[e].type]||"data"},t.datagridType=function(e,n){var a=t.$typeList[t.tableConfig[n].type]||0;return 0!==a?a:!!t.tableConfig[n].tdlink},t.updateSelected=function(e,n,a){n?t.selected.set(a,e):t.selected=e},t.updateChildVm=function(n,a,i){for(var r=n;r<t.data.length;r++)e.each(t.data[r].$tableChildVM.checkboxVM,function(e,t){i?t.trindex+=a:t.trindex-=a}),e.each(t.data[r].$tableChildVM.ButtonVM,function(e,t){i?t.trindex+=a:t.trindex-=a})},t.removeChildVm=function(e){t.updateChildVm(e+1,1)},t.addChildVm=function(e){t.updateChildVm(0,e,!0)},t.setValue=function(e){t.setData(e)},t.getData=function(){return t.data.$model},t.setData=function(e,n){e.length?t.dataGridState=1:t.dataGridState=2,setTimeout(function(){t.selected=[];var a,i=toDatagridData(e,t),r=i.length,o=t.data.length,c=Math.min(r,o);for(a=0;c>a;a++){var s=t.data[a],l=i[a];for(k in l)l.hasOwnProperty(k)&&"$tableChildVM"!==k&&(s[k]=l[k]);var d=s.$tableChildVM;d.switchVM&&$.each(d.switchVM,function(e,n){var a=n.trindex,i=n.tdindex;n.setValue(t.data[a]&&t.data[a][t.tableConfig[i].dataId])}),d.selectboxVM&&$.each(d.selectboxVM,function(e,n){var a=n.trindex,i=n.tdindex;n.setValue(t.data[a]&&t.data[a][t.tableConfig[i].dataId])})}r>o?t.data.pushArray(i.slice(o,r)):t.data.splice(r,o),"function"==typeof n&&n.call(this,t),t.$datagridBody.scrollTop(0)},300)},t.getSelectedRow=function(){var n=[];return e.each(t.data,function(e,t){t.selected&&n.push(e)}),n},t.getSelectedValue=function(){var n=[];return e.each(t.data,function(e,t){t.selected&&n.push(t.$model)}),n},t.setRowState=function(n,a){var i=[];return n===!0?(e.each(t.data,function(e,t){t.selected||(t.selected=!0),i.push(!0)}),t.updateSelected(i)):n===!1?(e.each(t.data,function(e,t){t.selected&&(t.selected=!1),i.push(!1)}),t.updateSelected(i)):(a?(i=!0,t.data[n].selected=!0):(i=!1,t.data[n].selected=!1),t.updateSelected(i,!0,n)),t},t.setRowSelected=function(n){e.each(t.data,function(t,n){e.each(n.$tableChildVM.checkboxVM,function(e,t){t.setChecked(!1)})}),t.setRowState(!1);for(var a=0;a<n.length;a++)t.data[n[a]]&&(e.each(t.data[n[a]].$tableChildVM.checkboxVM,function(e,t){t.setChecked(!0)}),t.setRowState(n[a],!0))},t.removeRow=function(n){return t.removeChildVm(n),e.Array.removeAt(t.data,n),e.Array.removeAt(t.selected,n),t},t.insertRow=function(n,a){return n=toDatagridData(n),a?e.each(n,function(e,n){t.data.push(n),t.selected.push(!1)}):(e.each(n,function(e,n){t.data.unshift(n),t.selected.unshift(!1)}),t.addChildVm(n.length)),t},t.deleteRow=function(e,n){return t.removeRow(n),t.insertRow(e,!0),t},t.$watch("data",function(e,t){}),t.$watch("selected",function(e,n){t._trigger({newVal:e,oldVal:n},"selected")}),t.$watch("selected.*",function(e,n){setTimeout(function(){t._trigger({newVal:e,oldVal:n},"selected")},50)})},$ready:function(e,t){e.$datagridBody=$(t).find(".mc-tbody"),e.onInit(e,t),McAvalon.$window.on("layout_resize",function(t,n){if(n["mc_li"+e.bindSize]){var a=n["mc_li"+e.bindSize].height,i=n["mc_li"+e.bindSize].width;e.allHasWidth||i<e.minWidth?e.extendOffset=18:e.extendOffset=0,e.$datagridBody.css("height",a-e.otherOffset-e.scrollContentOffset-e.extendOffset)}}),McAvalon.$window.trigger("layout_ini"),e.isInit=!1}});var a=e.components["mc:datagrid"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-datagrid-cotar" ms-class-1="{{name}}" ms-class-2="mc-hide:isInit">\r\n    <div class="mc-datagrid-scroll-cotar">\r\n        {{renderHeader()|html}}\r\n        <table class="data-table">\r\n            <tr>\r\n                <th ms-repeat="tableConfig" ms-class="col-{{$index}}" ms-class-1="active:sortActive" ms-click="sort($event, $index)">\r\n                    <span class="vm-cotar" ms-if="dataHeadType($index)===\'data\'">{{el.headTxt}}</span>\r\n                    <!-- 复选框 -->\r\n                    <div class="vm-cotar checkbox-wrap" ms-if="dataHeadType($index)===1">\r\n                        <mc:checkbox on-changed="selectAll" on-init="getCheckBoxAllVm" ms-attr-config="checkbox_opt{{$outer.$index}}"></mc:checkbox>\r\n                    </div>\r\n                </th>\r\n            </tr>\r\n        </table>\r\n        <div class="mc-tbody">\r\n            <div class="mc-no-data" ms-if="dataGridState === 0">\r\n                <div class="h1">数据加载中</div>\r\n            </div>\r\n            <table class="data-table" ms-if="dataGridState === 1">\r\n                <tr ms-repeat="data" ms-class="active:selected[$index]" ms-click="clickRow($event, $index)">\r\n                    <!-- 数据内容 -->\r\n                    <td ms-repeat-el="tableConfig" ms-class="col-{{$index}}">\r\n                        <!-- 正常数据 -->\r\n                        <span class="vm-cotar" ms-if="datagridType($outer.$index,$index)===false">{{renderContent($outer.$index,$index)}}</span>\r\n                        <!-- html数据 -->\r\n                        <span class="vm-cotar" ms-if="datagridType($outer.$index,$index)===8">{{renderContent($outer.$index,$index) | html }}</span>\r\n                        <!-- 时间数据 -->\r\n                        <span class="vm-cotar" ms-if="datagridType($outer.$index,$index)===4">{{renderContent($outer.$index,$index)| date("yyyy-MM-dd HH:mm:ss")}}</span>\r\n                        <!-- 带连接数据 -->\r\n                        <a class="vm-cotar" ms-if="datagridType($outer.$index,$index)===true" ms-attr-href="{{renderHref($outer.$index,$index)}}">{{renderContent($outer.$index,$index)}}</a>\r\n                        <!-- 复选框 -->\r\n                        <div class="vm-cotar checkbox-wrap" ms-if="datagridType($outer.$index,$index)===1">\r\n                            <mc:checkbox on-changed="selectRow" on-init="getChildCheckBoxVm" ms-attr-trindex="$outer.$index" ms-attr-tdindex="$index"></mc:checkbox>\r\n                        </div>\r\n                        <!-- switch -->\r\n                        <div class="vm-cotar switch-wrap" ms-if="datagridType($outer.$index,$index)===5">\r\n                            <mc:switch on-click="clickSwitch" on-init="setSwitch" ms-attr-trindex="$outer.$index" ms-attr-tdindex="$index"></mc:switch>\r\n                        </div>\r\n                        <!-- select box -->\r\n                        <div class="vm-cotar" ms-if="datagridType($outer.$index,$index)===6">\r\n                            <mc:selectbox config="$selectbox_opt" on-selected="changeSelect" on-init="setSelect" ms-attr-trindex="$outer.$index" ms-attr-tdindex="$index"></mc:selectbox>\r\n                        </div>\r\n                        <!-- icon -->\r\n                        <div class="vm-cotar" ms-if="datagridType($outer.$index,$index) === 7">\r\n                            <span class="vm-cotar iconfont"> {{renderContent($outer.$index,$index)|html}} </span>\r\n                        </div>\r\n                        <!-- 按钮 -->\r\n                        <div class="vm-cotar button-wrap" ms-if="datagridType($outer.$index,$index)===2 && ( el.filter ?  el.filter($outer.el.$model) : true )">\r\n                            <mc:button on-click="clickButton" on-init="getChildButtonVm" ms-attr-trindex="$outer.$index" ms-attr-tdindex="$index" ms-attr-label="{{renderBtn($outer.$index,$index)}}"></mc:button>\r\n                        </div>\r\n                        <!-- 图片 -->\r\n                        <div class="vm-cotar img-wrap" ms-if="datagridType($outer.$index,$index)===3"><div class="mc-img-cotar"><img ms-attr-src="renderContent($outer.$index,$index)"></div></div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <div class="mc-no-data" ms-if="dataGridState === 2">\r\n                <img src="/Content/Include/img/img_no_data.jpg" />\r\n                <!--<div class="h1">暂无数据</div>-->\r\n            </div>\r\n        </div>\r\n        {{renderStyle()|html}}\r\n    </div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(37),n(38)],i=function(e,t){var n=function(){};e.component("mc:checkbox",{label:"",checked:!1,disabled:!1,readonly:!1,onInit:n,onChecked:null,onCancel:null,onChanged:null,isChecked:n,setChecked:n,getValue:n,setValue:n,formName:"",fJudge:"",fState:"",isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,clickCheckbox:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickCheckbox=function(t){e.disabled||e.readonly||(e._trigger(t,"changed")&&(e.checked?e._trigger(t,"cancel")&&(e.checked=!1):e._trigger(t,"checked")&&(e.checked=!0)),t.stopPropagation())},e._trigger=function(t,n){switch(n){case"checked":if("function"==typeof e.onChecked)return e.onChecked(t,e)!==!1;break;case"cancel":if("function"==typeof e.onCancel)return e.onCancel(t,e)!==!1;break;case"changed":if("function"==typeof e.onChanged)return e.onChanged(t,e)!==!1}return!0},e.isChecked=function(){return e.checked},e.setChecked=function(t){t?e.checked=!0:e.checked=!1},e.getValue=function(){return e.isChecked()?1:0},e.setValue=function(t){e.setChecked(t)}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:checkbox"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="form-group mc-checkbox-cotar" ms-class-1="mc-checkbox-disabled: disabled"\r\n     ms-class-2="mc-loading: isInit" ms-click="clickCheckbox($event)">\r\n    <i class="mc-checkbox" ms-class-1="mc-active: checked&&!disabled"></i>\r\n    <span class="mc-checkbox-label">{{label}}</span>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(40),n(41)],i=function(e,t){var n=function(){};e.component("mc:popmenu",{size:"normal",padding:10,position:{top:0,left:0},track:!1,show:!1,onShowed:null,onHided:null,setPosition:n,showDialog:n,hideDialog:n,setCallback:n,content:"",lindex:-1,clickBg:n,clickDialog:n,_trigger:n,jBtnType:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickBg=function(t){e.hideDialog(),t.cancelBubble=!0},e.clickDialog=function(e){e.cancelBubble=!0},e._trigger=function(t,n){switch(n){case"showed":"function"==typeof e.onshowed&&e.onShowed(t,e);break;case"hided":"function"==typeof e.onhided&&e.onHided(t,e)}},e.setPosition=function(t,n,a){return e.position={top:t.top-(n||0),left:t.left-(a||0)},e},e.showDialog=function(){return e.show=!0,e._trigger({},"showed"),e},e.hideDialog=function(t){return e.show=!1,e._trigger(t,"hided"),e},e.setCallback=function(t,n){return e.buttons[t].callback=n,e}},$ready:function(e){}});var a=e.components["mc:popmenu"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-popmenu-cotar fade" ms-click="hideDialog($event)" ms-class-1="mc-dialog-show:show"\r\n        ms-class-2="mc-dialog-hide:!show">\r\n    <div class="mc-popmenu-content" ms-click="clickDialog($event)" ms-class-1="mc-popmenu-lg: size==\'large\'"\r\n         ms-class-2="mc-popmenu-sm: size==\'small\'" ms-class-3="mc-popmenu-st: size==\'tiny\'" ms-css-top="position.top" ms-css-left="position.left">\r\n        <!-- popmenu body -->\r\n        <div class="mc-popmenu-body" ms-css-padding="padding">{{content|html}}</div>\r\n    </div>\r\n    <!-- popmenu bg -->\r\n    <div class="mc-popmenu-bg"></div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(43),n(44)],i=function(e,t){var n=function(){};e.component("mc:pop",{mcstyle:"",disabled:!1,onInit:n,isDisable:n,showTip:n,showSuccessTip:n,showFailTip:n,showConfirm:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.isDisable=function(){return e.disabled},e.showTip=function(e,t){void 0===t?swal(e):swal({title:e,timer:t})},e.showSuccessTip=function(e,t){void 0===t?swal({title:e,type:"success"}):swal({title:e,type:"success",timer:t})},e.showFailTip=function(e,t){void 0===t?swal({title:e,type:"error"}):swal({title:e,type:"error",timer:t})},e.showConfirm=function(t,n){var a=$.Deferred();return swal({title:t,text:n,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确认",cancelButtonText:"取消",closeOnConfirm:!1,closeOnCancel:!0},function(t){t?(e._trigger({},"confirm"),a.resolve()):(e._trigger({},"cancel"),a.reject())}),a},e._trigger=function(t,n,a){switch(n){case"confirm":"function"==typeof e.onConfirm&&e.onConfirm(t,e,a);break;case"cancel":"function"==typeof e.onCancel&&e.onCancel(t,e,a)}}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:pop"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-pop-cotar"></div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(17),n(46),n(47)],i=function(e,t,n){function a(e,t){return e.hasOwnProperty(t)&&""!==e[t]}var i=function(){};e.component("mc:form",{title:"",cpadding:15,labelSize:240,hasButtons:!0,leftLabel:"确定",rightLabel:"取消",border:!1,btnSize:"normal",btnPos:"left",submitMode:"ajax",$defaultData:null,defaultData:null,submitUrl:"",loadUrl:"",loadParam:{},onoksubmited:null,onerrsubmited:null,onsubmited:null,onBeforeSubmit:null,onreseted:null,onloaded:null,onDataChange:null,onFail:null,onInit:i,$ajaxTmpData:null,$ajaxConfig:{url:"",data:{},dataType:"json"},isLoadingData:!1,isInit:!0,isLoading:!1,doSubmit:i,doReset:i,_trigger:i,_ajax:i,_checkValid:i,ajaxData:i,checkData:i,$$checkData:i,getAjaxData:i,setAjaxData:i,getDefaultData:i,setDefaultData:i,getData:i,$$getData:i,setData:i,submit:i,reset:i,reload:i,getElements:i,content:"",$template:n,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,n){e._trigger=function(t,n){switch(n){case"data":"function"==typeof e.onDataChange&&e.onDataChange(e);break;case"fail":"function"==typeof e.onFail&&e.onFail(e);break;case"loaded":"function"==typeof e.onloaded&&e.onloaded(t,e);break;case"submited":"function"==typeof e.onsubmited&&e.onsubmited(t,e);break;case"beforeSubmit":"function"==typeof e.onBeforeSubmit&&e.onBeforeSubmit(t,e);break;case"reseted":"function"==typeof e.onreseted&&e.onreseted(t,e);break;case"ok":"function"==typeof e.onoksubmited&&e.onoksubmited(t,e);case"err":"function"==typeof e.onerrsubmited&&e.onerrsubmited(t,e)}},e._ajax=function(n,a,i){""!=n&&(e.isLoading=!0,t.ajax({type:"POST",url:n,data:{data:JSON.stringify(a)},dataType:"json",headers:{},success:function(t,n,a){e.isLoading=!1,i(t)},error:function(t){e.isLoading=!1,e._trigger(t,"err")}}))},e._checkValid=function(){var t=!0;for(k in e.$refs){var n=e.$refs[k];if(void 0!=n.isValid&&n.isValid===!1){t=!1;break}}return t},e.ajaxData=function(t){var n=e.$ajaxConfig;if(""!==n.url){var a=$.extend(t,n.data);Mc.Ajax({url:n.url,data:a,success:function(t){e.isLoadingData=!1,e.setAjaxData(t),e._trigger({},"data")},beforeSend:function(){e.isLoadingData=!0},fail:function(t){e.isLoadingData=!1,e._trigger({},"fail")}})}},e.getAjaxData=function(){return e.$ajaxTmpData},e.setAjaxData=function(t){e.$ajaxTmpData=t},e.$$checkData=function(e){var t=!0;for(k in e){var n=e[k];n.hasOwnProperty("validValue")&&(n.validValue(),n.hasOwnProperty("isValid")&&!n.isValid&&(t=!1))}return t},e.checkData=function(){var t=!0;for(k in e.$refs){var n=e.$refs[k];n.hasOwnProperty("validValue")&&(n.validValue(),n.hasOwnProperty("isValid")&&!n.isValid&&(t=!1))}return t},e.doSubmit=function(t){e._trigger(t,"submited");var n=e.getCurVm();if(e.$$checkData(n)){var a=e.$$getData(n);e._trigger(t,"beforeSubmit"),e.ajaxData(a)}},e.doReset=function(t){e.setData(),e._trigger(t,"reseted")},e.getCurVm=function(){var t=[],n=[],i=[];for(k in e.$refs)if(e.$refs.hasOwnProperty(k)){var r=e.$refs[k];a(r,"judgeName")&&i.push({judge:r.judgeName,state:r.getValue()+""}),a(r,"fJudge")?n.push({vm:r,judge:r.fJudge,state:r.fState+""}):t.push(r)}return $.each(n,function(e,n){$.each(i,function(e,a){if(n.judge===a.judge){var i=n.state.split(",");$.each(i,function(e,i){return i===a.state?(t.push(n.vm),!1):void 0})}})}),t},e.$$getData=function(e){var t={};for(k in e)if(e.hasOwnProperty(k)){var n=e[k];a(n,"submitName")&&"function"==typeof n.getValue?t[n.submitName]=n.getValue():a(n,"formName")&&"function"==typeof n.getValue&&(t[n.formName]=n.getValue())}return t},e.getData=function(){var t={},n=[],i=[];for(k in e.$refs)if(e.$refs.hasOwnProperty(k)){var r=e.$refs[k];a(r,"submitName")&&"function"==typeof r.getValue?a(r,"fJudge")?n.push({key:r.submitName,value:r.getValue(),judge:r.fJudge,state:r.fState+""}):n.push({key:r.submitName,value:r.getValue()}):a(r,"formName")&&"function"==typeof r.getValue&&(a(r,"fJudge")?n.push({key:r.formName,value:r.getValue(),judge:r.fJudge,state:r.fState+""}):n.push({key:r.formName,value:r.getValue()}))}return $.each(n,function(e,n){n.judge?$.each(i,function(e,a){if(n.judge===a.judge){var i=n.state.split(",");$.each(i,function(e,i){return i===a.state?(t[n.key]=n.value,!1):void 0})}}):t[n.key]=n.value}),t},e.setData=function(){var t=e.getDefaultData();for(k in e.$refs)if(e.$refs.hasOwnProperty(k)){var n=e.$refs[k];if(a(n,"formName")&&"function"==typeof n.setValue){var i=n.formName.split(","),r=i.map(function(e,n){var a=t[e];return null!==a&&void 0!==a?t[e]:""});n.setValue.apply(e,r)}}return e},e.getDefaultData=function(){return e.$defaultData},e.setDefaultData=function(t){return e.$defaultData=t,e.defaultData=t,e},e.submit=function(){e.doSubmit({})},e.reset=function(){e.doReset({})},e.reload=function(){""!=e.loadUrl&&e._ajax(e.loadUrl,e.loadParam,function(t){"success"==t.response.state,e._trigger(t,"loaded")})},e.getElements=function(){var t=[];for(k in e.$refs){var n=e.$refs[k];void 0!=n.name&&"function"==typeof n.setValue&&t.push(n)}return t}},$ready:function(e,t){for(k in e.$refs){var n=e.$refs[k];n.hasOwnProperty("labelSize")&&"function"==typeof n.getValue&&(n.labelSize=e.labelSize)}e.onInit(e,t),e.isInit=!1}});var r=e.components["mc:form"];r.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-container mc-animate" ms-class-1="mc-loading: isInit" ms-class-2="mc-animate-content-show: !isInit" \n        ms-css-padding="cpadding">\n	<div class="mc-form-title" ms-if="title!=\'\'">{{title}}</div>\r\n    <div ms-class-1="padding_left2: border===true" ms-class-2="padding_right2: border===true" ms-class-3="padding_bottom: border===true">\r\n        {{content|html}}\r\n    </div>\n	<!--<div class="form-group no_margin padding_top padding_bottom" ms-class-1="padding_left2: border===true" ms-class-2="padding_right2: border===true" ms-class-3="td_form_background: border===true" ms-class-4="td_form_border_top:border===true" ms-if="buttons===true">\n		<a ms-if="btnPos==\'right\'" class="btn btn-default btn-primary waves-effect waves-light no_margin" ms-class-1="btn-sm: btnSize==\'small\'" style="visibility:hidden;">&nbsp;</a>\n		<a class="btn btn-default btn-primary waves-effect waves-light no_margin" href="javascript:void(0)" ms-class-1="btn-sm: btnSize==\'small\'" ms-class-2="pull-right: btnPos==\'right\'" ms-class-3="margin_left: btnPos==\'right\'" ms-click="doSubmit($event)">&nbsp;提&nbsp;&nbsp;交&nbsp;</a>\n		<a class="btn btn-default waves-effect waves-light no_margin" href="javascript:void(0)" ms-class-1="btn-sm: btnSize==\'small\'" ms-class-2="pull-right: btnPos==\'right\'" ms-class-3="margin_left: btnPos==\'left\'" ms-click="doReset($event)">&nbsp;重&nbsp;&nbsp;置&nbsp;</a>\n	</div>-->\n	<!--<div class="loading-mask" ms-visible="isLoading">\n		<div class="loading-container">\n			<div class="loading-speeding-wheel"></div><strong>数据加载中,请稍后…</strong>\n		</div>\n	</div>-->\n    <div class="btn-wrap hf" ms-if="hasButtons" ms-css-padding-left="labelSize">\r\n        <mc:button on-click="doSubmit" ms-attr-label="{{leftLabel}}" type="success" size="wide"></mc:button>\r\n        <mc:button on-click="doReset" ms-attr-label="{{rightLabel}}" size="wide"></mc:button>\r\n    </div>\r</div>\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(49),n(50)],i=function(e,t){var n=function(){};e.component("mc:searchbox",{mcstyle:"",disabled:!1,placeholder:"请输入要搜索的数据",$search_type_opt:{},onInit:n,onSearch:null,onCleanSearch:null,isDisable:n,search:n,cleanSearch:n,getSearchData:n,setSearchData:n,isInit:!0,extend:{},$searchType:"",$searchData:{},$searchTypeVm:null,$searchIptVm:null,lindex:-1,trindex:-1,tdindex:-1,changeSearchType:n,getSearchTypeVM:n,getSearchIptVM:n,doSearch:n,doGetAll:n,_trigger:n,setSearchType:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.isDisable=function(){return e.disabled},e.search=function(){e._trigger({},"search")},e.cleanSearch=function(){e.$searchTypeVm.setSelectByIndex(0),e.$searchIptVm.setData(""),e._trigger({},"cleanSearch")},e.getSearchData=function(){return e.$searchData={},e.$searchData[e.$searchType]=e.$searchIptVm.getValue(),e.$searchData},e.setSearchData=function(t){e.$searchData={},e.$searchData=t,$.each(t,function(t,n){return e.setSearchType(t),e.$searchIptVm.setValue(n),!1})},e.getSearchTypeVM=function(t,n){e.$searchType=t.getValue(),e.$searchTypeVm=t},e.changeSearchType=function(t,n){e.$searchType=n.getValue(),e.$searchIptVm.setData("")},e.getSearchIptVM=function(t,n){e.$searchIptVm=t},e.doSearch=function(t){e.search()},e.doGetAll=function(t){e.cleanSearch()},e._trigger=function(t,n,a){switch(n){case"search":"function"==typeof e.onSearch&&e.onSearch(t,e,a);break;case"cleanSearch":"function"==typeof e.onCleanSearch&&e.onCleanSearch(t,e,a)}},e.setSearchType=function(t){e.$searchTypeVm.setValue(t)}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:searchbox"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-searchbox-cotar hf" ms-class="mc-loading: isInit">\r\n    <mc:selectbox class="fp" config="$search_type_opt" label="搜索" label-size="40" on-init="getSearchTypeVM" on-selected="changeSearchType"></mc:selectbox>\r\n    <mc:text class="fp" width="150" on-init="getSearchIptVM" ms-attr-placeholder="placeholder"></mc:text>\r\n    <mc:button class="fp no-radius no-lr-border" label="搜索" on-click="doSearch"></mc:button>\r\n    <mc:button class="fp no-left-radius" label="全部数据" on-click="doGetAll"></mc:button>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(52),n(53)],i=function(e,t){var n=function(){};e.component("mc:tabs",{tabsName:"",tabConfig:[],activeIndex:0,disabled:!1,bindSize:"",otherOffset:0,scrollContentOffset:31,onInit:n,onClick:null,isDisable:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,$tabsBody:null,clickTab:n,_trigger:n,renderContent:n,$template:t,$replace:!0,$construct:function(t,n,a){if(void 0!=n.tabConfig)for(var i=0;i<n.tabConfig.length;i++)t["content"+i]="";var r=e.mix(t,n,a);return r},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickTab=function(t,n){e.disabled||e.activeIndex!==n&&(e.activeIndex=n,"function"==typeof e.tabConfig[n].callback&&e.tabConfig[n].callback(t,e),e._trigger(t,"click"),t.stopPropagation())},e._trigger=function(t,n){switch(n){case"click":"function"==typeof e.onClick&&e.onClick(t,e)}},e.renderContent=function(t){return e["content"+t]},e.isDisable=function(){return e.disabled}},$ready:function(e,t){e.$tabsBody=$(t).find(".mc-tabs-body"),e.onInit(e,t),e.isInit=!1,console.log("tabs ini"),McAvalon.$window.on("layout_resize",function(t,n){if(console.log(n),n["mc_li"+e.bindSize]){var a=n["mc_li"+e.bindSize].height;e.$tabsBody.css("height",a-e.otherOffset-e.scrollContentOffset)}}),McAvalon.$window.trigger("layout_ini")}});var a=e.components["mc:tabs"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-tabs-cotar" ms-class-1="mc_li{{bindSize}}" ms-class-2="mc-loading: isInit">\r\n    <div class="mc-tabs-switch-wrap hf">\r\n        <div class="mc-switch-item fp" ms-repeat="tabConfig" ms-class="active:$index === activeIndex" ms-click="clickTab($event,$index)">\r\n            <span>{{el.label}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="mc-tabs-body" ms-repeat="tabConfig" ms-class="active:$index === activeIndex" ms-visible="$index === activeIndex">\r\n        {{renderContent($index)|html}}\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;(function(r){toCheckBoxData=function(e){return avalon.each(e,function(e,t){t.checked=!1}),e},a=[n(4),n(55),n(56)],i=function(e,t){var n=function(){};e.component("mc:checkboxgourp",{formName:"",judgeName:"",readonly:!1,fJudge:"",fState:"",getValue:n,setValue:n,label:"",labelSize:0,checked:!1,disabled:!1,muilt:!1,idName:"id",textName:"text",data:[],valid:"",must:!1,tip:"",onInit:n,onChecked:null,onCancel:null,onChanged:null,isChecked:n,getCheckedData:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,checkedList:[],isValid:!0,validInfo:"",clickCheckbox:n,validValue:n,_trigger:n,setCheckedState:n,$template:t,$replace:!0,$construct:function(t,n,a){n.data&&(n.data=toCheckBoxData(n.data));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.getValue=function(){var e=t.getCheckedData();return e&&e.length?t.muilt?e.join(";"):e[0][t.idName]:void 0},t.setValue=function(e){t.validInfo="",t.data.forEach(function(e,t){e.checked=!1}),t.setCheckedStateById(e,!0)},t.clickCheckbox=function(n,a){if(!t.disabled&&!t.readonly){if(t.muilt){var i=!a.checked;t.setCheckedState(a,i)}else{var i=a.checked;i||e.each(t.data,function(e,n){n[t.idName]===a[t.idName]?t.setCheckedState(a,!0):t.setCheckedState(n,!1)})}n.stopPropagation()}},t.setCheckedState=function(e,n){e.checked=n,t._trigger({},"changed")},t.setCheckedStateById=function(e,n){var a=r.find(t.data,function(n,a){return n[t.idName]===e});a&&t.setCheckedState(a,n)},t._trigger=function(e,n){switch(n){case"checked":"function"==typeof t.onChecked&&t.onChecked(e,t);break;case"cancel":"function"==typeof t.onCancel&&t.onCancel(e,t);break;case"changed":"function"==typeof t.onChanged&&t.onChanged(e,t)}},t.validValue=function(e){var n=t.getValue();t.validInfo=McAvalon.validata(n,t.valid),t.isValid=""===t.validInfo,t.isValid&&(t.must!==!0||0===n||n||(t.isValid=!1,t.validInfo="该字段为必填字段"))},t.isChecked=function(){var e=t.data.every(function(e){return!e.checked});return!e},t.getCheckedData=function(){var e=t.data.$model.filter(function(e){return e.checked});return e}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:checkboxgourp"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t){e.exports='<div class="mc-checkboxgroup-cotar mc-form-group">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="check-list">\r\n        <div class="form-group form-control mc-checkbox-cotar"\r\n             ms-repeat-checkbox="data"\r\n             ms-class="disabled: disabled||readonly"\r\n             ms-click="clickCheckbox($event,checkbox,checkbox.value)">\r\n            <i class="mc-checkbox" ms-class-1="mc-active: checkbox.checked"\r\n               ms-class-2="single-mode: !muilt"\r\n               ms-class-3="disabled: disabled||readonly"></i>\r\n            <span class="mc-checkbox-label">{{checkbox.text}}</span>\r\n        </div>\r\n    </div>\r\n    <span class="mc-text-valid-info ftp" ms-if="!isValid && validInfo != \'\'">{{validInfo}}</span>\r\n    <div class="mc-text-field-tip" ms-css-padding-left="labelSize" ms-if="tip">{{tip}}</div>\r\n</div>';
},function(e,t){},function(e,t,n){var a,i;(function(r){toListAddData=function(e,t){var n=[];return avalon.each(e,function(e,a){a.selected=!1,a.checked=a.checked||!1,t?a.checked||n.push(a):n.push(a)}),n},a=[n(4),n(58),n(59),n(10),n(2)],i=function(e,t){var n=function(){};e.component("mc:listdataadd",{data:[],dataConfirmConfig:null,ajax:!1,idName:"id",textName:"text",keyName:"key",cullOrigin:!1,onInit:n,onDataChange:n,setData:n,isInit:!0,extend:{},lindex:-1,allLen:{left:0,right:0},addedList:[],deledList:[],seletedLen:{left:0,right:0},selectedAll:{left:!1,right:!1},originData:[],diffData:[],leftObj:{},rightObj:{},q:{left:"",right:""},r:null,$skipArray:["data","r","originData","diffData"],_trigger:n,genGroup:n,selectItem:n,selectAll:n,addItem:n,confirm:n,$template:t,$replace:!0,$construct:function(t,n,a){n.data&&(n.data=toListAddData(n.data,n.cullOrigin));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t._trigger=function(e,n){switch(n){case"data":"function"==typeof t.onDataChange&&t.onDataChange(t.r,t.originData,t.diffData)}};var a=function(e){var e="left",n=!1,a={};t.allLen[e]=t.seletedLen[e]=0;var i=!0;t.data.forEach(function(r,o){if(r.checked===n){var c=t.q[e].trim();if(c&&r[t.textName].indexOf(c)<0)return!1;var s=r[t.keyName];a[s]=a[s]||[],a[s].push(r),t.allLen[e]+=1,r.selected?t.seletedLen[e]+=1:i=!1}}),i&&t.allLen[e]>0?t.selectedAll[e]=!0:t.selectedAll[e]=!1,t.leftObj=a;var e="right",n=!0,a={},i=!0;t.allLen[e]=t.seletedLen[e]=0,t.data.forEach(function(r,o){if(r.checked===n){var c=t.q[e].trim();if(c&&r[t.textName].indexOf(c)<0)return!1;var s=r[t.keyName];a[s]=a[s]||[],a[s].push(r),t.allLen[e]+=1,r.selected?t.seletedLen[e]+=1:i=!1}}),i&&t.allLen[e]>0?t.selectedAll[e]=!0:t.selectedAll[e]=!1,t.rightObj=a};t.genGroup=r.throttle(a,200),t.selectItem=function(e){var n=t.data.filter(function(n,a){return n[t.idName]===e});n[0]&&(n[0].selected=!n[0].selected,t.genGroup())},t.selectAll=function(n){var a;a="left"!==n,t.selectedAll[n]=!t.selectedAll[n];var i=t.selectedAll[n];e.each(t.data,function(e,t){t.checked===a&&(t.selected=i)}),t.genGroup()},t.addItem=function(e,n){return t.seletedLen[n]<1?!1:(t.data.filter(function(t){return t.selected&&t.checked===e}).forEach(function(t){t.selected=!1,t.checked=!e}),void t.genGroup())},t.confirm=function(){var n=$.Deferred();if(t.ajax){var a=t.dataConfirmConfig,i=$.extend({},a.data.$model);$.ajax({url:a.url,type:"POST",async:!0,data:i,complete:function(e){console.log(e),n.resolve(e)}})}else{var o=[[],[]];e.each(t.data,function(e,t){t.checked?o[1].push(t):o[0].push(t)}),n.resolve(o)}n.then(function(n){t.r=n;var a=[[],[]],i=[];e.each(t.originData,function(e,t){t.checked?0:i.push(t)});var o=i.map(function(e){return e[t.idName]}),c=n[0].map(function(e){return e[t.idName]}),s=r.difference(o,c),l=r.difference(c,o);s.forEach(function(e){var n=r.find(t.originData,function(n){return n[t.idName]===e});n?a[1].push(n):0}),l.forEach(function(e){var n=r.find(t.originData,function(n){return n[t.idName]===e});n?a[0].push(n):0}),t.cullOrigin&&(a[0]=[]),t.diffData=a,t._trigger({},"data")})},t.setData=function(e){t.originData=e.map(function(e){return r.clone(e)}),t.data=toListAddData(e,t.cullOrigin),t.genGroup()},t.$watch("q.*",function(n,a){e.each(t.data,function(e,t){t.selected=!1}),t.genGroup()})},$ready:function(e,t){e.onInit(e,t),e.isInit=!1,e.genGroup()}});var a=e.components["mc:listdataadd"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t){e.exports='<div class="mc-listdata-add-cotar">\r\n    <div class="left-list group-list">\r\n        <div class="all-num">\r\n            待添加 {{allLen.left}}\r\n        </div>\r\n        <input type="text" class="ipt" placeholder="输入关键字" ms-duplex-string="q.left">\r\n        <div class="group-box">\r\n            <div class="group-item" ms-repeat="leftObj">\r\n                <div class="gourp-title">\r\n                    {{$key}} <div class="rfp"> {{$val.length}}项 </div>\r\n                </div>\r\n                <div class="item" ms-repeat-item="$val"\r\n                     ms-class="active: item.selected"\r\n                     ms-click="selectItem(item[idName])">\r\n                    {{item[textName]}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- footer -->\r\n        <div class="gourp-footer">\r\n            <div class="form-group mc-checkbox-cotar"\r\n                 ms-click="selectAll(\'left\')">\r\n                <i class="mc-checkbox" ms-class-1="mc-active: selectedAll.left"></i>\r\n                <span class="mc-checkbox-label">全选</span>\r\n            </div> <div class="rfp">选中{{seletedLen.left}}项</div>\r\n        </div>\r\n    </div>\r\n    <!-- 操作按钮 -->\r\n    <div class="op-list "> \r\n        <div class="vm-cotar" >\r\n            <div class="btn add" ms-click="addItem(false,\'left\')" ms-class="disabled: seletedLen.left<1">\r\n                ＞＞添加＞＞\r\n            </div>\r\n            <div class="btn add" ms-click="addItem(true,\'right\')" ms-class="disabled: seletedLen.right<1">\r\n                ＜＜取消＜＜\r\n            </div>\r\n        </div> \r\n    </div>\r\n    <div class="right-list group-list">\r\n        <div class="all-num">\r\n            已添加 {{allLen.right}}\r\n        </div>\r\n        <input type="text" class="ipt" placeholder="输入关键字" ms-duplex-string="q.right">\r\n        <div class="group-box">\r\n            <div class="group-item" ms-repeat="rightObj">\r\n                <div class="gourp-title">\r\n                    {{$key}} <div class="rfp"> {{$val.length}}项 </div>\r\n                </div>\r\n                <div class="item" ms-repeat-item="$val"\r\n                     ms-class="active: item.selected"\r\n                     ms-click="selectItem(item[idName])">\r\n                    {{item[textName]}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- footer -->\r\n        <div class="gourp-footer">\r\n            <div class="form-group mc-checkbox-cotar"\r\n                 ms-click="selectAll(\'right\')">\r\n                <i class="mc-checkbox" ms-class-1="mc-active: selectedAll.right"></i>\r\n                <span class="mc-checkbox-label">全选</span>\r\n            </div> <div class="rfp">选中{{seletedLen.right}}项</div> \r\n        </div>\r\n    </div>\r\n\r\n    <div class="the-op-footer">\r\n        <!--\r\n        本次操作:添加{{addedList.size()}}部门,取消{{deledList.length}} 部门\r\n        -->\r\n\r\n        <div class="hor-list  "> \r\n            <mc:button class="item" label="保存" mcstyle="" on-click="confirm"></mc:button>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(61),n(62)],i=function(e,t){var n=function(){};e.component("mc:droplist",{active:!1,data:[],width:100,mcstyle:"",label:"",disabled:!1,onInit:n,onClick:null,isDisable:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,clickDrop:n,_trigger:n,$template:t,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickDrop=function(t){e.disabled||(e.active=!e.active,e._trigger(t,"click"),t.stopPropagation())},e._trigger=function(t,n){switch(n){case"click":"function"==typeof e.onClick&&e.onClick(t,e)}},e.isDisable=function(){return e.disabled}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:droplist"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-droplist-cotar" ms-class-1="mc-active: active" ms-class-2="{{mcstyle}}" ms-css-width="width">\r\n    <div class="mc-droplist-btn" ms-click="clickDrop($event)"><span>{{label}}</span></div>\r\n    <div class="mc-droplist-body">\r\n        <div class="mc-droplist-item" ms-repeat="data">{{el.label}}</div>\r\n        <i ms-class-1="green: el.state === 1" ms-class-2="yellow: el.state === 2" ms-class-3="red: el.state === 3"></i>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(64),n(65)],i=function(e,t){var n=function(){};e.component("mc:datapager",{autoAjaxFirst:!0,active:!1,allCount:0,width:100,mcstyle:0,label:"",curPage:1,jumpPageIndex:1,pageSize:0,disabled:!1,$computed:{allPageCount:{set:n,get:function(){return Math.ceil(this.allCount/this.pageSize)}},dataStartIndex:{set:n,get:function(){return this.pageSize*(this.curPage-1)+1}},dataEndIndex:{set:n,get:function(){return this.curPage===this.allPageCount?this.allCount:this.pageSize*this.curPage}}},$page_size_opt:{data:[{text:"20",value:20},{text:"30",value:30},{text:"50",value:50}]},$ajaxTmpData:null,$ajaxConfig:{url:"",data:{},dataType:"json"},onInit:n,onClick:null,onDataChange:null,onPageChange:null,isDisable:n,refreshPage:n,addCondition:n,delCondition:n,changeCondition:n,isInit:!0,extend:{},$pageSelectVm:null,$pageJumpVm:null,$ajaxData:null,lindex:-1,trindex:-1,tdindex:-1,getSelectPageVM:n,clickDrop:n,getPageJumpVM:n,changePageSize:n,getAjaxData:n,setAjaxData:n,getAllCount:n,setAllCount:n,ajaxData:n,turnPage:n,nextPage:n,prevPage:n,jumpPage:n,firstPage:n,lastPage:n,_trigger:n,$template:t,$construct:function(t,n,a){n.$ajaxConfig&&(n.$ajaxConfig=$.extend(t.$ajaxConfig,n.$ajaxConfig));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickDrop=function(t){e.disabled||(e.active=!e.active,e._trigger(t,"click"),t.stopPropagation())},e.getSelectPageVM=function(t,n){e.$pageSelectVm=t,e.pageSize=t.getValue()},e.getPageJumpVM=function(t,n){e.$pageJumpVm=t},e.changePageSize=function(t,n){e.pageSize=n.getValue()},e.jumpPage=function(t){var n=e.$pageJumpVm.getValue()>>0;n>0&&n<=e.allPageCount&&e._changeCurPage(t,n)},e.nextPage=function(t){e.curPage<e.allPageCount&&e._changeCurPage(t,e.curPage+1)},e.prevPage=function(t){e.curPage>1&&e._changeCurPage(t,e.curPage-1)},e.firstPage=function(t){e._changeCurPage(t,1)},e.lastPage=function(t,n){e._changeCurPage(t,e.allPageCount)},e.ajaxData=function(){var t=e.$ajaxConfig;if(""!==t.url){var n=$.extend(t.data,{pageIndex:e.curPage,pageSize:e.pageSize});Mc.Ajax({url:t.url,data:n,success:function(t){e.setAjaxData(t),e.$pageJumpVm.setValue(e.curPage),e._trigger({},"data")}})}},e.getAjaxData=function(){return e.$ajaxData},e.setAjaxData=function(t){e.$ajaxData=t},e.getAllCount=function(){return e.allCount},e.setAllCount=function(t){var n=t>>0;n>0&&(e.allCount=n)},e.refreshPage=function(){e.ajaxData()},e.addCondition=function(t){e.$ajaxConfig.data=$.extend(e.$ajaxConfig.data,t)},e.delCondition=function(t){$.each(t,function(t,n){console.log(n),delete e.$ajaxConfig.data[n]})},e.changeCondition=function(t){e.$ajaxConfig.data=t},e.isDisable=function(){return e.disabled},e._trigger=function(t,n){switch(n){case"data":"function"==typeof e.onDataChange&&e.onDataChange(e);break;case"size":break;case"page":"function"==typeof e.onPageChange&&e.onPageChange(t,e.curPage)}},e._changePageSize=function(){1!==e.curPage&&(e.curPage=1),e._changeCurPage({},1)},e._changeCurPage=function(t,n){e.curPage!==n&&(e.curPage=n,e.ajaxData(),e._trigger(t,"page"))}},$ready:function(e,t){e.onInit(e,t),e.autoAjaxFirst&&e.ajaxData(),e.isInit=!1}});var a=e.components["mc:datapager"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-datapager-cotar hf">\r\n    <div class="item">显示行数</div>\r\n    <mc:selectbox class="bar-group item" config="$page_size_opt" width="60" arrow-down="false" on-init="getSelectPageVM" on-selected="changePageSize"></mc:selectbox>\r\n    <div class="item"><em>{{dataStartIndex}}-{{dataEndIndex}}条/</em><span>共{{allCount}}条</span></div>\r\n    <div class="bar-group item hf">\r\n        <mc:button class="bar-item bl" label="首页" on-click="firstPage"></mc:button>\r\n        <mc:button class="bar-item bm" label="上一页" on-click="prevPage"></mc:button>\r\n        <mc:button class="bar-item bm" label="下一页" on-click="nextPage"></mc:button>\r\n        <mc:button class="bar-item br" label="尾页" on-click="lastPage"></mc:button>\r\n    </div>\r\n    <div class="bar-group item hf">\r\n        <mc:text class="fp bar-item bl" label="前往" label-size="40" width="40" on-init="getPageJumpVM"></mc:text>\r\n        <mc:button class="fp bar-item br" label="跳转" on-click="jumpPage"></mc:button>\r\n    </div>\r\n    <div class="item"><span>共{{allPageCount}}页</span></div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(67),n(68)],i=function(e,t){var n=function(){};e.component("mc:datepicker",{value:"",width:200,mcstyle:"",disabled:!1,placeholder:"",readonly:!1,tip:"",formName:"",fJudge:"",fState:"",onInit:n,isDisable:n,getValue:n,setValue:n,isInit:!0,extend:{},$datepicker_ipt:"",$datepickerIptOpt:$({}),lindex:-1,trindex:-1,tdindex:-1,doDatepicker:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){t.$datepicker_ipt=McAvalon.util.genId("datepickIpt"),t.$datepicker=McAvalon.util.genId("datepick");var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.isDisable=function(){return e.disabled},e.show=function(){e.$datepickerIptOpt.trigger("focus")},e.doDatepicker=function(t){e.show()},e._trigger=function(t,n,a){switch(n){case"confirm":"function"==typeof e.onConfirm&&e.onConfirm(t,e,a);break;case"cancel":"function"==typeof e.onCancel&&e.onCancel(t,e,a)}},e.iniDatepicker=function(){e.readonly||e.$datepickerIptOpt.date_input()},e.getValue=function(){return new Date(e.value).getTime()/1e3>>0},e.setValue=function(t,n){void 0!==n&&(e.readonly=!!n),e.value=new Date(1e3*t).format("yyyy-M-d")}},$ready:function(e,t){e.$datepickerIptOpt=$(t).find("#"+e.$datepicker_ipt),e.iniDatepicker(),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:datepicker"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-datepicker-cotar hf" ms-class="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="ftp mc-datepicker-wrap" ms-class="mc-readonly: readonly">\r\n        <div class="mc-datepicker-content ftp" ms-click="doDatepicker" ms-attr-name="formName" ms-css-width="width">{{value}}</div>\r\n        <input ms-attr-id="$datepicker_ipt" class="form-control mc-datepicker-ipt" type="text" ms-attr-placeholder="placeholder"\r\n               ms-attr-name="formName" ms-duplex="value" /> \r\n        <div class="item mc-text-field-tip" ms-css-width="width">\r\n            {{tip}}\r\n        </div>\r\n    </div>\r\n\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(70),n(71)],i=function(e,t){var n=function(){};e.component("mc:selectbox",{label:"",labelSize:0,data:[],arrowDown:!0,width:250,select:0,active:!1,disabled:!1,readonly:!1,onInit:n,onClick:null,onSelected:null,isDisable:n,isOpen:n,setState:n,getSelect:n,setSelectByIndex:n,setSelectByTxt:n,setSelectByValue:n,setData:n,getValue:n,setValue:n,formName:"",judgeName:"",fJudge:"",fState:"",isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,clickSelectbox:n,clickLi:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){"function"==typeof n.data&&(n.data=n.data());var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.clickSelectbox=function(n){t.disabled||t.readonly||(McAvalon.global.selectboxVm&&e.each(McAvalon.global.selectboxVm,function(e,n){n!==t&&n.isOpen()&&n.setState(!1)}),t.active=!t.active,t._trigger(n,"click"),n.stopPropagation())},t.clickLi=function(e,n){t.select=n,t.active=!1,t._trigger(e,"selected"),e.stopPropagation()},t._trigger=function(e,n){switch(n){case"click":"function"==typeof t.onClick&&t.onClick(e,t);break;case"selected":"function"==typeof t.onSelected&&t.onSelected(e,t)}},t.isDisable=function(){return t.disabled},t.isOpen=function(){return t.active},t.setState=function(e){e?t.active=!0:t.active=!1},t.getSelect=function(){return t.data[t.select]&&t.data[t.select].$model},t.getValue=function(){return t.data[t.select]&&t.data[t.select].$model.value},t.setValue=function(e,n){void 0!==n&&(t.readonly=!!n);var a=t.data.$model;if(a.length){for(var i=null,r=0;r<a.length;r++)a[r].value==e&&(i=r);null!=i&&(t.select=i)}},t.setData=function(e){t.data=e},t.setSelectByIndex=function(e){return t.select=e,t},t.setSelectByTxt=function(n){return e.each(t.data,function(e,a){return console.log(e+"||"+a),a.text==n?(t.select=e,!1):void 0}),t},t.setSelectByValue=function(n){return e.each(t.data,function(e,a){return console.log(e+"||"+a),a.value==n?(t.select=e,!1):void 0}),t}},$ready:function(e,t){McAvalon.global.selectboxVm||(McAvalon.global.selectboxVm=[]),McAvalon.global.selectboxVm.push(e),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:selectbox"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-selectbox-cotar hf" ms-class-1="mc-selectbox-disabled: disabled" ms-class-2="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="mc-selectbox-wrap fp" ms-class="mc-active: active" ms-if="!readonly"\r\n         ms-css-width="width" ms-click="clickSelectbox($event)">\r\n        <input type="hidden" ms-attr-value="data[select] && data[select].value">\r\n        <div class="mc-txt">{{data[select] && data[select].text}}</div>\r\n        <ul class="mc-select-list" ms-class-1="mc-arrow-down: arrowDown" ms-class-2="mc-arrow-up: !arrowDown">\r\n            <li ms-repeat="data" ms-click="clickLi($event,$index)">{{el.text}}</li>\r\n        </ul>\r\n    </div>\r\n    <div class="mc-readonly-txt fp" ms-if="readonly">{{data[select] && data[select].text}}</div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(73),n(74)],i=function(e,t){var n=function(){};e.component("mc:switch",{label:"",labelSize:0,mcstyle:"",width:200,disabled:!1,formName:"",readonly:!1,judgeName:"",fJudge:"",fState:"",onInit:n,onChanged:n,onClick:n,isDisable:n,isActive:n,getValue:n,setValue:n,isInit:!0,switchActive:!1,extend:{},lindex:-1,trindex:-1,tdindex:-1,doClick:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.isDisable=function(){return e.disabled},e.getValue=function(){return e.switchActive?1:0},e.setValue=function(t,n){void 0!==n&&(e.readonly=!!n),t?e.switchActive=!0:e.switchActive=!1,e._trigger({},"changed")},e.isActive=function(){return e.switchActive},e.doClick=function(t){e.readonly||(e.switchActive=!e.switchActive,e._trigger({},"click"),e._trigger({},"changed"),t.stopPropagation())},e._trigger=function(t,n,a){switch(n){case"changed":"function"==typeof e.onChanged&&e.onChanged(t,e,a);break;case"click":"function"==typeof e.onClick&&e.onClick(t,e,a)}}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:switch"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-switch-cotar hf" ms-class="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="mc-switch-wrap ftp" ms-class-1="mc-switch-open:switchActive"\r\n         ms-class-2="mc-switch-readonly:readonly" ms-click="doClick">\r\n        <div class="mc-switch-btn"></div>\r\n    </div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(76),n(77)],i=function(e,t){var n=function(){};e.component("mc:text",{label:"",labelSize:0,value:"",placeholder:"",pwd:!1,valid:"",max:"",min:"",maxlen:999,width:200,must:!1,tip:"",mult:!1,isHide:!1,readonly:!1,onInit:n,onGetValue:null,onSetValue:null,onClicked:null,onChanged:null,isDisable:n,getData:n,setData:n,getValue:n,setValue:n,formName:"",submitName:"",fJudge:"",fState:"",isInit:!0,extend:{},isValid:!0,validInfo:"",lindex:-1,trindex:-1,tdindex:-1,doClick:n,validValue:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.doClick=function(t){e._trigger(t,"clicked")},e.validValue=function(t){e.value=e.value+"",e.validInfo=McAvalon.validata(e.value,e.valid),e.isValid=""===e.validInfo,e.isValid&&(e.must===!0&&""===e.value.trim()?(e.isValid=!1,e.validInfo="该字段为必填字段"):"number"==typeof e.must&&e.value.length!==e.must?(e.isValid=!1,e.validInfo="该字段长度有误"):-1===e.valid.indexOf("int")&&-1===e.valid.indexOf("float")||(""!==e.max&&e.value>e.max?(e.isValid=!1,e.validInfo="超过最大限制"):""!==e.min&&e.value<e.min&&(e.isValid=!1,e.validInfo="低于最小限制")))},e._trigger=function(t,n){switch(n){case"getValue":"function"==typeof e.onGetValue&&e.onGetValue(t,e);break;case"setValue":"function"==typeof e.onSetValue&&e.onSetValue(t,e);break;case"clicked":"function"==typeof e.onclicked&&e.onClicked(t,e);break;case"changed":"function"==typeof e.onchanged&&e.onChanged(t,e)}},e.getData=function(){var t={};return t[e.name]=e.value,t},e.setData=function(t){e.value=t},e.getValue=function(){return e._trigger({},"getValue"),e.value},e.setValue=function(t,n){e.validInfo="",void 0!==n&&(e.readonly=!!n),t!==e.value&&(e.value=t,e.validValue(null),e._trigger({},"setValue"))},e.$watch("value",function(t,n){e._trigger({newVal:t,oldVal:n},"changed")})},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:text"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-text-cotar hf" ms-class-1="mc-error: !isValid" ms-class-2="mc-loading: isInit" ms-visible="!isHide">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <input class="form-control mc-ipt fp" ms-attr-type="pwd?\'password\':\'text\'" ms-attr-placeholder="placeholder" ms-if="!readonly && !mult"\r\n           ms-attr-maxlength="maxlen" ms-attr-name="formName" ms-duplex="value" ms-css-width="width"\r\n           ms-input="validValue($event)" ms-paste="validValue($event)" ms-click="doClick($event)" />\r\n    <textarea class="form-control mc-mult-ipt ftp" type="text" ms-attr-placeholder="placeholder" ms-if="!readonly && mult"\r\n              ms-attr-maxlength="maxlen" ms-attr-name="formName" ms-duplex="value" ms-css-width="width" ms-css-max-width="width" ms-css-min-width="width"\r\n              ms-input="validValue($event)" ms-paste="validValue($event)" ms-click="doClick($event)"></textarea>\r\n    <div class="mc-text-show ftp" ms-if="readonly" ms-attr-name="formName" ms-css-width="width">{{value}}</div>\r\n    <span class="mc-text-valid-info ftp" ms-if="!isValid && validInfo != \'\'">{{validInfo}}</span>\r\n    <div class="mc-text-field-tip" ms-css-padding-left="labelSize" ms-if="tip">{{tip}}</div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(79),n(80),n(75),n(10)],i=function(e,t){var n=function(){};e.component("mc:jsonadd",{label:"",labelSize:0,value:[],placeholder:"",keyName:"key",valName:"val",valid:"",width:200,must:!1,tip:"",mult:!1,isHide:!1,readonly:!1,onInit:n,onClicked:null,onChanged:null,isDisable:n,getData:n,setData:n,getValue:n,setValue:n,formName:"",submitName:"",fJudge:"",fState:"",isInit:!0,extend:{},isValid:!0,validInfo:"",lindex:-1,trindex:-1,tdindex:-1,keyIpt:"",valIpt:"",doClick:n,validValue:n,_trigger:n,clrIpt:n,clrEnv:n,addItem:n,getValIptVM:n,getKeyIptVM:n,$keyIptVm:n,$valIptVm:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.getValIptVM=function(t,n){e.$valIptVm=t},e.getKeyIptVM=function(t,n){e.$keyIptVm=t},e.validValue=function(e){},e._trigger=function(t,n){switch(n){case"changed":"function"==typeof e.onchanged&&e.onChanged(t,e)}},e.addItem=function(){var t=e.$keyIptVm.getValue(),n=e.$valIptVm.getValue();if(t&&n){e.value=e.value||[];var a={};a[e.keyName]=t,a[e.valName]=n,e.value.push(a),e.clrIpt()}else alert("..缺少")},e.clrIpt=function(){e.$valIptVm.setData(""),e.$keyIptVm.setData("")},e.clrEnv=function(){e.clrIpt(),e.value=[]},e.getData=function(){var t={};return t[e.name]=e.value,t},e.setData=function(t){e.value=t},e.getValue=function(){return JSON.stringify(e.value.$model)},e.setValue=function(t,n){if(e.clrEnv(),t){var t="string"==typeof t?JSON.parse(t):t;void 0!==n&&(e.readonly=!!n),t!==e.value&&(e.value=t)}},e.$watch("value",function(t,n){e._trigger({newVal:t,oldVal:n},"changed")})},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:jsonadd"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-jsonadd-cotar hf" ms-class-1="mc-error: !isValid" ms-class-2="mc-loading: isInit" ms-visible="!isHide">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n\r\n\r\n    <!--添加区 -->\r\n    <div class="add-area" ms-if="!readonly">\r\n        <mc:text width="100" on-init="getKeyIptVM" ms-attr-placeholder="placeholder"></mc:text> \r\n        &nbsp;&nbsp;\r\n        <mc:text width="100" on-init="getValIptVM" ms-attr-placeholder="placeholder"></mc:text>\r\n        <mc:button on-click="addItem" label="增加" type="success"></mc:button>\r\n    </div>\r\n\r\n\r\n    <!--显示区 -->\r\n    {{JSON.stringify(value)}}\r\n    <div class="show-area" ms-css-margin-left="labelSize">\r\n        <table>\r\n            <tr ms-repeat-item="value">\r\n                <td class="key-item">{{item[keyName]}}</td>\r\n                <td class="val-item">{{item[valName]}}</td>\r\n                <td class=""><mc:button  label="删除" on-click="$remove"></mc:button></td>\r\n            </tr>\r\n           \r\n        </table>\r\n    </div>\r\n\r\n\r\n    <!--X区 -->\r\n    <div class="mc-text-show ftp" ms-if="readonly" ms-attr-name="formName" ms-css-width="width"></div>\r\n    <span class="mc-text-valid-info ftp" ms-if="!isValid && validInfo != \'\'">{{validInfo}}</span>\r\n    <div class="mc-text-field-tip" ms-css-padding-left="labelSize" ms-if="tip">{{tip}}</div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(82),n(83),n(72)],i=function(e,t){e.filters.uri=function(e){var t="";try{var n=e.split("/"),a=n[n.length-1].split(".");a[0]=a[0].substring(1,10),t=a.join(".")}catch(i){console.info(e)}return t};var n=function(){};e.component("mc:upload",{uploadFormId:McAvalon.util.genId("_uploadForm"),label:"",labelSize:0,tip:"",mult:!1,fileSrc:"",fileSrcList:[],fileSize:null,uploadType:"default",fileType:"",allowFileType:"img",mcstyle:"",size:"normal",width:200,disabled:!1,allowOuter:!1,isOuter:!1,formName:"",readonly:!1,fJudge:"",fState:"",onInit:n,onClick:null,isDisable:n,submit:n,reset:n,getValue:n,setValue:n,getSwitchVM:n,outerChanged:n,getOuterTextVM:n,$outerTextVM:{},$outerSwitchVM:{},setOuter:n,$fileTypeFormat:{img:[".jpg",".png"],video:[".rm",".rmvb",".wmv",".avi",".mpg",".mpeg",".mp4"],audio:[".mp3",".wma",".wav",".amr"],office:[".doc",".docx",".pdf",".ppt",".pptx"]},isInit:!0,extend:{},$jQuploadForm:$({}),s_upload:!1,lindex:-1,trindex:-1,tdindex:-1,fileChange:n,doDel:n,_trigger:n,getRealUrl:n,getFormat:n,setRealUrl:n,judgeOuter:n,delImg:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.getOuterTextVM=function(e,n){t.$outerTextVM=e},t.getSwitchVM=function(e,n){t.$outerSwitchVM=e},t.outerChanged=function(e,n){t.isOuter=n.isActive()},t.setOuter=function(e){var n=e?1:0;t.$outerSwitchVM.setValue(n)},t.isDisable=function(){return t.disabled},t.submit=function(e){var n="/Home/UpdateImg/";"office"===e?n="/Home/UpOfficFileByMvc/":"video"===e?n="/Home/UpVideoFileByMvc/":"audio"===e&&(n="/Home/UpAudioFileByMvc/"),t.s_upload=!0;var a={};a="img"===e?function(e){t.s_upload=!1,console.log(e);var n=JSON.parse(e);t.mult?t.fileSrcList.push(n.url):t.fileSrc=n.url}:function(e){t.s_upload=!1,console.log(e);var n=JSON.parse(e);t.fileSize=n.sizeList[0],t.fileSrc=n.URLList[0]},t.$jQuploadForm.ajaxSubmit({url:n,type:"POST",data:{type:t.uploadType},timeout:6e5,async:!0,success:a})},t.getValue=function(){return t.mult?t.fileSrcList.join(","):t.getRealUrl()},t.setValue=function(e,n){if(void 0!==n&&(t.readonly=!!n),t.mult)""!==e?t.fileSrcList=e.split(","):t.fileSrcList=[];else{if(t.$outerTextVM.setValue(""),t.fileSrc===e){var a=e,i=a.split("."),r="."+i[i.length-1];t.fileType=t.getFormat(r),t.judgeOuter(a)?t.$outerSwitchVM.setValue(1):t.$outerSwitchVM.setValue(0),t.judgeOuter(a)?t.$outerTextVM.setValue(a):0}t.fileSrc=e}},t.fileChange=function(e,n){if(console.log(n.files),!t.s_upload)if(n.files&&n.files.length){var a=n.files[0].name.split("."),i="."+a[a.length-1],r=t.getFormat(i);r&&t.allowFileType.indexOf(r)>-1?t.submit(r):alert("不支持所传格式")}else n.value&&t.submit()},t.doDel=function(e,n){t.delImg(n)},t._trigger=function(e,n,a){switch(n){case"click":"function"==typeof t.onClick&&t.onClick(e,t,a);break;case"url":"function"==typeof t.onClick&&t.onChanged(e,t,a);break;case"outer":"function"==typeof t.onClick&&t.onOuter(e,t,a)}},t.delImg=function(n){e.Array.removeAt(t.fileSrcList,n)},t.getRealUrl=function(){return t.isOuter?t.$outerTextVM.getValue():t.fileSrc},t.getFormat=function(e){var n="";for(key in t.$fileTypeFormat)t.$fileTypeFormat[key].indexOf(e)>-1&&(n=key);return n},t.judgeOuter=function(e){return e.indexOf("http")>-1},t.setRealUrl=function(e){t.judgeOuter(e)&&t.$outerTextVM.setValue(e,t.readonly),t.fileSrc=e},t.$watch("fileSrc",function(e,n){var a=e.split("."),i="."+a[a.length-1];t.fileType=t.getFormat(i),t.judgeOuter(e)?t.$outerSwitchVM.setValue(1):t.$outerSwitchVM.setValue(0),t.judgeOuter(e)?t.$outerTextVM.setValue(e):0,t._trigger({},"url")}),t.$watch("isOuter",function(e,n){t._trigger({},"outer")})},$ready:function(e,t){e.$jQuploadForm=$(t).find("#"+e.uploadFormId),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:upload"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-upload-cotar hf" ms-class-1="mc-upload-lg: size==\'large\'"\r\n     ms-class-2="mc-upload-sm: size==\'small\'" ms-class-3="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="fp">\r\n        <!-- tip -->\r\n        <div ms-visible="tip" class="item mc-text-field-tip" ms-css-width="width">\r\n            {{tip}}\r\n        </div>\r\n        <div class="vm-cotar" ms-visible="allowOuter && (!readonly)">\r\n            <mc:switch label-size="76" label="是否外链" on-init="getSwitchVM" on-changed="outerChanged"></mc:switch>\r\n        </div>\r\n        <div class="vm-cotar" ms-visible="!isOuter">\r\n            <form ms-attr-id="uploadFormId" ms-if="!readonly">\r\n                <label class="mc-button-label">\r\n                    <input class="ms-upload-ipt" ms-change="fileChange($event,this)" type="file" name="uploadImg">\r\n                    <span class="mc-upload-btn" ms-visible="!s_upload">{{ allowFileType===\'img\'  ? \'选择图片\'  :   allowFileType===\'video\'? \'选择视频\' : \'请选择\'}}</span>\r\n                    <span class="mc-upload-btn" ms-visible="s_upload">上传中..</span>\r\n                </label>\r\n            </form>\r\n        </div>\r\n        <div class="vm-cotar" ms-visible="isOuter && (!readonly) ">\r\n            <mc:text on-init="getOuterTextVM"> </mc:text>\r\n        </div> \r\n        <!-- 图片直接显示,其他直接url text, -->\r\n        <div ms-if="fileType===\'img\' && !mult" class="mc-img-show-cotar" ms-css-width="width">\r\n            <img ms-attr-src="fileSrc" ms-if="fileSrc != \'\'">\r\n        </div>\r\n        <!-- 多图上传 -->\r\n        <div ms-if="mult" class="mc-img-show-cotar mc-mult-img-cotar" ms-css-width="width">\r\n            <div class="mc-img-item" ms-repeat="fileSrcList">\r\n                <div class="mc-close-btn" ms-click="doDel($event,$index)" ms-if="!readonly">&times;</div>\r\n                <img ms-attr-src="el">\r\n            </div>\r\n        </div>\r\n        <div class="vm-cotar" ms-visible="fileSrc != \'\' && fileType!==\'img\' && (!isOuter) && (!readonly)">\r\n            已选择:{{fileSrc}}\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n';
},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(85),n(86)],i=function(e,t){var n=function(){};e.component("mc:editor",{ueditorId:"",label:"",labelSize:0,tip:"",placeholder:"",mcstyle:"",size:"normal",width:900,disabled:!1,formName:"",readonly:!1,fJudge:"",fState:"",onInit:n,onClick:null,isDisable:n,getValue:n,setValue:n,isInit:!0,extend:{},isFullscreen:!1,$ueditorObj:null,lindex:-1,trindex:-1,tdindex:-1,_trigger:n,iniEditor:n,destroy:n,$template:t,$replace:!0,$construct:function(t,n,a){t.ueditorId=McAvalon.util.genId("_ueditor");var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.isDisable=function(){return e.disabled},e.getValue=function(){return e.$ueditorObj.getContent()},e.setValue=function(t,n){void 0!==n&&(e.readonly=!!n),e.$ueditorObj.queryCommandState("source")&&e.$ueditorObj.execCommand("source"),e.$ueditorObj.setContent(t)},e._trigger=function(t,n,a){switch(n){case"click":"function"==typeof e.onClick&&e.onClick(t,e,a)}},e.iniEditor=function(){UM.clearCache(e.ueditorId),e.$ueditorObj=UM.getEditor(e.ueditorId),e.$ueditorObj.addListener("afterfullscreenchange",function(){e.isFullscreen=!e.isFullscreen})},e.destroy=function(){UM.clearCache(e.ueditorId)}},$ready:function(e,t){e.iniEditor(),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:editor"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-editor-cotar hf" ms-class="mc-loading: isInit" ms-css-min-width="labelSize + width">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="mc-editor-wrap ftp" ms-class="mc-editor-fullscreen: isFullscreen">\r\n        <div class="item mc-text-field-tip" ms-css-width="width">\r\n            {{tip}}\r\n        </div>\r\n        <script type="text/plain" ms-attr-id="ueditorId" ms-css-width="width">\r\n        </script>\r\n    </div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(88),n(89)],i=function(e,t){var n=function(){};e.component("mc:tagadd",{label:"",labelSize:0,mcstyle:"",size:"normal",width:200,disabled:!1,placeholder:"",tip:"",type:"normal",iconCodeList:{normal:"",group:"&#xe739;",person:"&#xe78b;",department:"&#xe753;"},value:"",tagList:[],formName:"",readonly:!1,fJudge:"",fState:"",onInit:n,onAdd:null,onDel:null,isDisable:n,getValue:n,setValue:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,doKeyDown:n,doAdd:n,doDel:n,_trigger:n,addTag:n,delTag:n,getIcon:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.isDisable=function(){return t.disabled},t.getValue=function(){var e=[];return $.each(t.tagList,function(t,n){e.push(n.tagName)}),e.join(";")},t.setValue=function(e,n){if(void 0!==n&&(t.readonly=!!n),console.log(t.tagList),""!==e){var a=e.split(";");t.tagList=a.map(function(e,t){return{tagName:e}})}},t.doKeyDown=function(e){13===e.keyCode&&t.addTag()},t.doAdd=function(e){t.addTag()},t.doDel=function(e,n){t.delTag(n)},t._trigger=function(e,n,a){switch(n){case"add":"function"==typeof t.onAdd&&t.onAdd(e,t,a);break;case"del":"function"==typeof t.onDel&&t.onDel(e,t,a)}},t.addTag=function(){""!==t.value.trim()&&(t.tagList.push({tagName:t.value}),t.value="",t._trigger({},"add"))},t.delTag=function(n){e.Array.removeAt(t.tagList,n),t._trigger({},"del")},t.getIcon=function(){return t.iconCodeList[t.type]||""}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:tagadd"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-tagadd-cotar hf" ms-class-1="mc-tagadd-lg: size==\'large\'"\r\n     ms-class-2="mc-tagadd-sm: size==\'small\'" ms-class-3="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="ftp">\r\n        <div class="hf">\r\n            <input class="form-control mc-ipt fp" type="text" ms-attr-placeholder="placeholder" ms-if="!readonly"\r\n                   ms-duplex="value" ms-keydown="doKeyDown" ms-css-width="width" />\r\n            <div class="mc-add-btn fp" ms-click="doAdd" ms-if="!readonly">添加</div>\r\n        </div>\r\n        <div class="item mc-text-field-tip" >\r\n            {{tip}}\r\n        </div>\r\n        <div class="mc-tag-show-cotar hf" ms-css-width="width + 80">\r\n            <div class="mc-tag-item fp" ms-repeat="tagList">\r\n                <div class="mc-close-btn" ms-click="doDel($event,$index)" ms-if="!readonly">&times;</div>\r\n                <div class="mc-tag-type iconfont" ms-class="mc-type-{{type}}" ms-if="type != \'normal\'">{{getIcon() | html}}</div>\r\n                <div class="mc-tag-name" ms-class="mc-type : type != \'normal\'">{{el.tagName}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(91),n(92)],i=function(e,t){var n=function(){};e.component("mc:pagemodal",{title:"",padding:15,modalIsShow:!1,$tmpData:{},onInit:n,onShowed:null,onHided:null,setTitle:n,getTitle:n,show:n,hide:n,setCallback:n,getTmpData:n,setTmpData:n,isInit:!0,extend:{},content:"",lindex:-1,$scrollBody:$({}),btnClick:n,clickDialog:n,_trigger:n,jBtnType:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.clickDialog=function(e){console.log(e)},e._trigger=function(t,n){switch(n){case"showed":"function"==typeof e.onshowed&&e.onShowed(t,e);break;case"hided":"function"==typeof e.onhided&&e.onHided(t,e)}},e.setTitle=function(t){return e.title=t,e},e.getTitle=function(){return e.title},e.show=function(){return e.modalIsShow=!0,e._trigger({},"showed"),e},e.hide=function(){return e.modalIsShow=!1,e._trigger({},"hided"),e},e.setCallback=function(t,n){return e.buttons[t]&&(e.buttons[t].callback=n),e},e.getTmpData=function(){return e.$tmpData},e.setTmpData=function(t){return e.$tmpData=$.extend(e.$tmpData,t),e},e.$watch("modalIsShow",function(){e.$scrollBody.scrollTop(0)})},$ready:function(e,t){e.$scrollBody=$(t).find(".mc-modal-content"),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:pagemodal"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-pagemodal-cotar fade" ms-class-1="mc-pagemodal-show:modalIsShow"\r\n     ms-class-2="mc-pagemodal-hide:!modalIsShow" ms-class-3="mc-loading: isInit">\r\n    <div class="mc-modal-content">\r\n        <!-- modal header -->\r\n        <div class="mc-modal-header hf">\r\n            <div class="mc-modal-title fp">{{title}}</div>\r\n        </div>\r\n        <!-- modal body -->\r\n        <div class="mc-modal-body" ms-css-padding="padding">{{content|html}}</div>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(94),n(95)],i=function(e,t){var n=function(){};e.component("mc:bread",{data:[],padding:15,onInit:n,isInit:!0,extend:{},lindex:-1,$scrollBody:$({}),btnClick:n,clickDialog:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e._trigger=function(e,t){switch(t){}}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:bread"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-bread-cotar" ms-class="mc-loading: isInit">\r\n    <div class="mc-bread-list hf">\r\n        <a class="mc-bread-item fp mc-active" ms-repeat="data"\r\n           ms-attr-href="el.href" ms-if-loop="el.href">{{el.text}}</a>\r\n        <div class="mc-bread-item fp mc-cur-item" ms-repeat="data" ms-class="mc-active: el.href"\r\n             ms-if-loop="!el.href">{{el.text}}</div>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(97),n(98)],i=function(e,t){var n=function(){};e.component("mc:iconselect",{label:"",labelSize:0,mcstyle:"",width:200,disabled:!1,iconCode:"",iconList:McAvalon.icon.getList(),formName:"",readonly:!1,fJudge:"",fState:"",onInit:n,onChanged:null,isDisable:n,getValue:n,setValue:n,isInit:!0,popShow:!1,extend:{},lindex:-1,trindex:-1,tdindex:-1,doPopSelect:n,doSelect:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.isDisable=function(){return e.disabled},e.getValue=function(){return e.iconCode},e.setValue=function(t,n){void 0!==n&&(e.readonly=!!n),e.iconCode=t},e.doPopSelect=function(t){e.popShow=!e.popShow},e.doSelect=function(t,n){e.iconCode!==n&&(e.iconCode=n,e._trigger({},"changed")),e.popShow=!1},e._trigger=function(t,n,a){switch(n){case"changed":"function"==typeof e.onChanged&&e.onChanged(t,e,a)}}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:iconselect"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-form-group mc-iconselect-cotar hf" ms-class="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="mc-select-cotar ftp hf">\r\n        <div class="mc-selected-icon iconfont fp" ms-click="doPopSelect" ms-if="iconCode != \'\'">{{iconCode|html}}</div>\r\n        <div class="mc-select-btn fp" ms-click="doPopSelect" ms-if="iconCode == \'\' && !readonly">选择图标</div>\r\n        <div class="mc-iconselect-content hf" ms-class="mc-show: popShow" ms-if="!readonly">\r\n            <div class="mc-item iconfont fp" ms-repeat="iconList" ms-click="doSelect($event, el.iconCode)">{{el.iconCode|html}}</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(100),n(101),n(102),n(13)],i=function(e,t){var n=function(){};e.component("mc:listselect",{$dialog_opt:{},getDialogVM:n,$listId:McAvalon.util.genId("_letterlist"),$dialogVM:{},$list_opt:{},$data_opt:{},data:[],dataSelect:null,dataClick:n,label:"",trace:!1,labelSize:0,value:"",text:"",valid:"",width:200,must:!1,tip:"",isHide:!1,readonly:!1,onInit:n,onClicked:null,onChanged:null,getValue:n,setValue:n,formName:"",submitName:"",fJudge:"",fState:"",isInit:!0,extend:{},isValid:!0,validInfo:"",lindex:-1,trindex:-1,tdindex:-1,doClick:n,validValue:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){n.$list_opt&&(n.$list_opt=$.extend(!0,t.$list_opt,n.$list_opt));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.dataClick=function(t){e.dataSelect?e.dataSelect.selected=!1:0,e.dataSelect=t,t.selected=!0},e.$list_opt.onClickBefore=function(t){e.dataSelect=null,t[e.$list_opt.idName];var n=e.$data_opt.$ajaxConfig,a={};a[n.key]=t[n.key],a=$.extend(!0,a,n.extra),Mc.Ajax({url:n.url,data:a,success:function(t){e.data=t.data.map(function(e){return e.selected=!1,e})}})},e.$dialog_opt={size:"large",buttons:[{label:"保存",type:"success",callback:function(t,n){return e.value=e.dataSelect[e.$data_opt.idName],e.text=e.dataSelect[e.$data_opt.textName],!0}},{label:"取消",callback:function(){return!0}}]},e.getDialogVM=function(t,n){e.$dialogVM=t},e.doClick=function(t){e.$dialogVM.showDialog(),e._trigger(t,"clicked")},e.validValue=function(t){e.value=e.value+"",e.validInfo=McAvalon.validata(e.value,e.valid),e.isValid=""===e.validInfo,e.isValid&&e.must===!0&&""===e.value.trim()&&(e.isValid=!1,e.validInfo="该字段为必填字段")},e._trigger=function(t,n){switch(n){case"clicked":"function"==typeof e.onclicked&&e.onClicked(t,e);break;case"changed":"function"==typeof e.onchanged&&e.onChanged(t,e)}},e.getValue=function(){return e.value},e.setValue=function(t,n){e.dataSelect=null,e.data=[],McAvalon.getVm(e.$listId).q="";var a=McAvalon.getVm(e.$listId).getSelect();a?a.selected=!1:0,void 0!==n&&(e.readonly=!!n),e.text=t},e.$watch("value",function(t,n){e._trigger({newVal:t,oldVal:n},"changed")})},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:listselect"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='\r\n \r\n<div class="mc-form-group mc-list-select-cotar hf" ms-class="mc-error: !isValid" ms-visible="!isHide">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="form-control mc-ipt fp" ms-if="!readonly"\r\n         ms-attr-name="formName" ms-css-width="width"\r\n         ms-click="doClick($event)">{{text}}</div>\r\n    <div class="mc-text-show ftp" ms-if="readonly" ms-attr-name="formName" ms-css-width="width">{{text}}</div>\r\n    <span class="mc-text-valid-info ftp" ms-if="!isValid && validInfo != \'\'">{{validInfo}}</span>\r\n    <div class="mc-text-field-tip" ms-css-padding-left="labelSize" ms-if="tip">{{tip}}</div>\r\n\r\n\r\n    <mc:dialog config="$dialog_opt" title="" on-init="getDialogVM">\r\n        <div slot="content">\r\n            <!-- list -->\r\n            <mc:letterlist config="$list_opt" ms-attr-identifier="$listId"></mc:letterlist>\r\n            <!-- data -->\r\n            <div class="data-list">\r\n                <div class="item" ms-repeat-item="data" ms-click="dataClick(item)" ms-class="active: item.selected">{{item[$data_opt.textName]}}</div>\r\n            </div>\r\n        </div>\r\n\r\n    </mc:dialog>\r\n</div>\r\n\r\n'},function(e,t){},function(e,t,n){var a,i;(function(r){toLetterListData=function(e,t){var n=[];return avalon.each(e,function(e,t){t.selected=!1,n.push(t)}),n},a=[n(4),n(103),n(104),n(10)],i=function(e,t){var n=function(){};e.component("mc:letterlist",{idName:"id",textName:"text",keyName:"key",picName:"pic",hasPic:!1,onInit:n,onDataChange:n,onClickBefore:n,setData:n,getSelect:n,isInit:!0,extend:{},lindex:-1,tmpActive:null,$originData:[],data:null,q:"",$skipArray:[""],_trigger:n,click:n,select:n,_select:n,genGroup:n,renderDataLen:n,$template:t,$replace:!0,$construct:function(t,n,a){n.data&&(n.data=toLetterListData(n.data,n.cullOrigin));var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e._trigger=function(t,n){switch(n){case"data":"function"==typeof e.onDataChange&&e.onDataChange(e.r,e.originData,e.diffData)}},e.click=function(t){return e.onClickBefore(t,e)===!1?!1:void e.select(t)},e.select=function(t){e.tmpActive?e.tmpActive.selected=!1:0,e._select(t,!0),e.tmpActive=t},e._select=function(e,t){e.selected=t};var n=function(){var t={},n=e.q.trim();e.$originData.forEach(function(a,i){if(n&&a[e.textName].indexOf(n)<0)return!1;var r=a[e.keyName];t[r]=t[r]||[],t[r].push(a)}),e.data=t};e.genGroup=r.throttle(n,250),e.renderDataLen=function(){var t=e.data.$model,n=0;for(key in t)t[key]&&t[key].length&&(n+=t[key].length);return n},e.setData=function(t){var n=toLetterListData(t);e.$originData=n,e.genGroup()},e.getSelect=function(){return e.tmpActive},e.$watch("q",function(t,n){e.genGroup()})},$ready:function(e,t){e.onInit(e,t),e.isInit=!1,e.genGroup()}});var a=e.components["mc:letterlist"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t){e.exports='<div class="mc-letter-list-cotar">\r\n    <div class="left-list group-list">\r\n        <div class="all-num">\r\n            <!--总数 {{renderDataLen(data)}}-->\r\n        </div>\r\n        <input type="text" class="ipt" placeholder="输入关键字" ms-duplex-string="q">\r\n        <div class="group-box">\r\n            <div class="group-item" ms-if-loop="data" ms-repeat="data">\r\n                <div class="gourp-title">\r\n                    {{$key}} <div class="rfp"> {{$val.length}}项 </div>\r\n                </div>\r\n                <div class="item" ms-repeat-item="$val"\r\n                     ms-class="active: item.selected"\r\n                     ms-click="click(item)">\r\n                    <img ms-if="hasPic" ms-attr-src="item[picName]" class="sm-pic" alt=""> \r\n                    <span>{{item[textName]}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(106),n(107)],i=function(e,t){var n=function(){};e.component("mc:gridlayout",{gridConfig:{},ln:0,cn:0,padding:15,isInit:!0,extend:{},tr:[],td:[],onInit:n,renderContent:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){if(n.ln||n.cn||a.ln||a.cn){var i=n.ln||a.ln,r=n.cn||a.cn;if(i===i>>>0&&r===r>>>0)for(var o=0;i>o;o++){for(var c=0;r>c;c++)t["grid"+o+c]="",0===o&&t.td.push("");t.tr.push("")}}var s=e.mix(t,n,a);return s},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.renderContent=function(t,n){return e["grid"+t+n]}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:gridlayout"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-gridlayout-cotar">\r\n    <table class="mc-grid-table">\r\n        <!--<thead ms-if="hasHead" ms-class="mc-hide:isInit">\r\n            <tr>\r\n                <th ms-repeat="$td" ms-class="col-{{$index}}">\r\n\r\n                </th>\r\n            </tr>\r\n        </thead>-->\r\n        <tbody ms-class="mc-hide:isInit">\r\n            <tr ms-repeat="tr">\r\n                <td ms-repeat-el="td" ms-class="col-{{$index}}">\r\n                    {{renderContent($outer.$index,$index)|html}}\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(109),n(110)],i=function(e,t){function n(e,t){for(var a=0;a<e.length;a++)t[e[a]._p]="",e[a]._c.length&&n(e[a]._c,t)}function a(e,t){var n={},a="";return a+="<style>",console.log(e.$mamager),e.$mamager.each(function(t,i){var r=$(i).attr("class").split(" ");$.each(r,function(t,r){return-1!==r.indexOf("mc_ai")?(n[r.replace("mc_ai","mc_li")]={width:i.offsetWidth,height:i.offsetHeight},a+="#"+e.layoutid+" ."+r.replace("mc_ai","mc_li")+"{width:"+i.offsetWidth+"px;height:"+i.offsetHeight+"px}",!1):void 0})}),a+="</style>",e.sizeStyle=a,n}var i=function(){};e.component("mc:linearlayout",{mode:"v",data:{},mcstyle:"",width:!1,height:!1,padding:!1,pt:!1,pl:!1,pr:!1,pb:!1,layoutz:{},isInit:!0,layoutid:"",tmpid:"",mtmpid:"",$mamager:null,extend:{},sizeStyle:"",test:i,onInit:i,renderStyle:i,calPosition:i,renderContent:i,_trigger:i,$template:t,$replace:!0,$construct:function(t,a,i){t.layoutid=McAvalon.util.genId("layout"),t.tmpid=McAvalon.util.genId("linear"),t.mtmpid=McAvalon.util.genId("manager"),n(a.data._c,t),console.log(t);var r=e.mix(t,a,i);return r},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.renderStyle=function(t){return e[t]!==!1?e[t]:void 0},e.test=function(t){console.log(t),console.log(t._m),console.log(e.data)},e.renderContent=function(t,n){return n?"":e[t]},e.calPosition=function(e,t,n){var a,i;if("top"===e){if("h"===t._m)return 0;for(a=0,i=0;n>i;i++){if(-1!==t._c[i].w.indexOf("%"))return!1;a+=t._c[i].w>>>0}return a}if("bottom"===e){if("h"===t._m)return 0;for(a=0,i=n+1;i<t._c.length;i++){if(-1!==t._c[i].w.indexOf("%"))return!1;a+=t._c[i].w>>>0}return a}if("left"===e){if("v"===t._m)return 0;for(a=0,i=0;n>i;i++){if(-1!==t._c[i].w.indexOf("%"))return!1;a+=t._c[i].w>>>0}return a}if("right"===e){if("v"===t._m)return 0;for(a=0,i=n+1;i<t._c.length;i++){if(-1!==t._c[i].w.indexOf("%"))return!1;a+=t._c[i].w>>>0}return a}}},$ready:function(e,t){e.$mamager=$(t).find(".mc-absolute-item"),console.log(e.$mamager),McAvalon.$window.on("layout_ini",function(){console.log("layout_ini"),McAvalon.$window.trigger("layout_resize",a(e,t))}),McAvalon.$window.on("window_resize",function(){console.log("layout_resize"),McAvalon.$window.trigger("layout_resize",a(e,t))}),console.log("linearlayout ini"),McAvalon.$window.trigger("layout_ini"),e.onInit(e,t),e.isInit=!1},$childReady:function(e,t){console.log(e),console.log(t)}});var r=e.components["mc:linearlayout"];r.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-layout-cotar" ms-attr-id="layoutid">\r\n    {{sizeStyle|html}}\r\n\r\n    <div class="mc-linearlayout-cotar mc-animate" ms-class-1="mc-loading: isInit" ms-class-2="mc-animate-page-show: !isInit"\r\n         ms-class-3="{{mcstyle}}" ms-css-width="renderStyle(\'width\')"\r\n         ms-css-height="renderStyle(\'height\')"\r\n         ms-css-padding="renderStyle(\'padding\')" ms-css-padding-top="renderStyle(\'pt\')"\r\n         ms-css-padding-left="renderStyle(\'pl\')" ms-css-padding-right="renderStyle(\'pr\')"\r\n         ms-css-padding-bottom="renderStyle(\'pb\')"\r\n         ms-class-4="hf: data._m === \'h\'">\r\n        <script type="avalon" ms-attr-id="tmpid" style="display: none">\r\n            <div class="mc-linear-item" ms-repeat="el._c" ms-class-1="hf: el._c.size() && el._m === \'h\'"\r\n                 ms-class-2="ftp: $outer.el._m === \'h\'" ms-class-3="mc_li{{el.s}}: el.s" ms-css-padding="el.p">\r\n                {{renderContent(el._p, el._c.size())|html}}\r\n                <div ms-include="tmpid" ms-if="el._c.size()" data-include-replace="true"></div>\r\n            </div>\r\n        </script>\r\n        <div class="mc-linear-item" ms-repeat="data._c" ms-class-1="hf: el._c.size() && el._m === \'h\'"\r\n             ms-class-2="ftp: data._m === \'h\'" ms-class-3="mc_li{{el.s}}: el.s" ms-css-padding="el.p">\r\n            {{renderContent(el._p, el._c.size())|html}}\r\n            <div ms-include="tmpid" ms-if="el._c.size()" data-include-replace="true"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="mc-layout-manager-cotar" ms-class-1="{{mcstyle}}" ms-css-width="renderStyle(\'width\')"\r\n         ms-css-height="renderStyle(\'height\')"\r\n         ms-css-padding="renderStyle(\'padding\')" ms-css-padding-top="renderStyle(\'pt\')"\r\n         ms-css-padding-left="renderStyle(\'pl\')" ms-css-padding-right="renderStyle(\'pr\')"\r\n         ms-css-padding-bottom="renderStyle(\'pb\')"\r\n         ms-class-2="hf: data._m === \'h\'">\r\n        <script type="avalon" ms-attr-id="mtmpid" style="display: none">\r\n            <div class="mc-absolute-item" ms-repeat="el._c" ms-class-1="mc_ai{{el.s}}: el.s"\r\n                 ms-css-width="$outer.el._m === \'h\' && el.w.indexOf(\'%\') === -1 && el.w" ms-css-height="$outer.el._m !== \'h\' && el.w.indexOf(\'%\') === -1 && el.w"\r\n                 ms-css-top="calPosition(\'top\', $outer.el, $index)" ms-css-bottom="calPosition(\'bottom\', $outer.el, $index)"\r\n                 ms-css-left="calPosition(\'left\', $outer.el, $index)" ms-css-right="calPosition(\'right\', $outer.el, $index)"\r\n                 ms-css-padding="el.p">\r\n                <div ms-include="mtmpid" ms-if="el._c.size()" data-include-replace="true"></div>\r\n            </div>\r\n        </script>\r\n        <div class="mc-absolute-item" ms-repeat="data._c" ms-class-1="mc_ai{{el.s}}: el.s"\r\n             ms-css-width="data._m === \'h\' && el.w.indexOf(\'%\') === -1 && el.w" ms-css-height="data._m !== \'h\' && el.w.indexOf(\'%\') === -1 && el.w"\r\n             ms-css-top="calPosition(\'top\', data, $index)" ms-css-bottom="calPosition(\'bottom\', data, $index)"\r\n             ms-css-left="calPosition(\'left\', data, $index)" ms-css-right="calPosition(\'right\', data, $index)"\r\n             ms-css-padding="el.p">\r\n            <div ms-include="mtmpid" ms-if="el._c.size()" data-include-replace="true"></div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(112),n(113)],i=function(e,t){var n=function(){};e.component("mc:absolutelayout",{mcstyle:"",top:!1,left:!1,right:!1,bottom:!1,width:!1,height:!1,padding:!1,pt:!1,pl:!1,pr:!1,pb:!1,minWidth:!1,isInit:!0,extend:{},content:"",onInit:n,renderStyle:n,renderContent:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.renderStyle=function(t){return e[t]!==!1?e[t]:void 0},e.renderContent=function(){return e.content}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:absolutelayout"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-absolutelayout-cotar" ms-class-1="{{mcstyle}}" ms-class-2="mc-loading: isInit" ms-css-width="renderStyle(\'width\')"\r\n     ms-css-height="renderStyle(\'height\')"\r\n     ms-css-top="renderStyle(\'top\')" ms-css-left="renderStyle(\'left\')"\r\n     ms-css-right="renderStyle(\'right\')" ms-css-bottom="renderStyle(\'bottom\')"\r\n     ms-css-padding="renderStyle(\'padding\')" ms-css-padding-top="renderStyle(\'pt\')"\r\n     ms-css-padding-left="renderStyle(\'pl\')" ms-css-padding-right="renderStyle(\'pr\')"\r\n     ms-css-padding-bottom="renderStyle(\'pb\')" ms-css-min-width="renderStyle(\'minWidth\')">\r\n    {{renderContent()|html}}\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;a=[n(4),n(115),n(116)],i=function(e,t){var n=function(){};e.component("mc:relativelayout",{mcstyle:"",width:!1,padding:!1,ptl:!1,pt:!1,pl:!1,pr:!1,pb:!1,isInit:!0,extend:{},content:"",onInit:n,renderStyle:n,renderContent:n,_trigger:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(e,t){e.renderStyle=function(t){return e[t]!==!1?e[t]:void 0},e.renderContent=function(){return e.content}},$ready:function(e,t){e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:relativelayout"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))},function(e,t){e.exports='<div class="mc-relativelayout-cotar" ms-class-1="{{mcstyle}}" ms-class-2="mc-loading: isInit" ms-css-width="renderStyle(\'width\')"\r\n     ms-css-padding="renderStyle(\'padding\')" ms-css-padding-top="renderStyle(\'pt\')"\r\n     ms-css-padding-left="renderStyle(\'pl\')" ms-css-padding-right="renderStyle(\'pr\')"\r\n     ms-css-padding-bottom="renderStyle(\'pb\')">\r\n    {{renderContent()|html}}\r\n</div>\r\n'},function(e,t){},function(e,t,n){var a,i;(function(r){a=[n(4),n(118),n(119)],i=function(e,t){var n=function(){};e.component("mc:selectadd",{label:"",labelSize:0,size:"normal",width:300,disabled:!1,value:"",tagList:[],noAddBtn:!1,iconCodeList:{normal:"",group:"&#xe739;",person:"&#xe78b;",department:"&#xe753;"},$dialog_vmid:null,$dialog_vmidTmp:null,formName:"",readonly:!1,fJudge:"",fState:"",onInit:n,onAdd:null,isDisable:n,getValue:n,setValue:n,setData:n,getData:n,isInit:!0,extend:{},lindex:-1,trindex:-1,tdindex:-1,$dialogVm:null,doAdd:n,doDel:n,_trigger:n,addTag:n,delTag:n,delTagByVal:n,getIcon:n,$template:t,$replace:!0,$construct:function(t,n,a){var i=e.mix(t,n,a);return i},$dispose:function(e,t){t.innerHTML=t.textContent=""},$init:function(t,n){t.isDisable=function(){return t.disabled},t.getValue=function(){var e=[];return $.each(t.tagList,function(t,n){e.push(n.tagValue)}),e.join(";")},t.setValue=function(e,n,a){if(void 0!==a&&(t.readonly=!!a),""!==e&&""!==n){var i=e.split(";"),r=n.split(";");t.tagList=i.map(function(e,t){return{tagValue:e,tagName:r[t]}})}},t.setData=function(n){"array"===e.type(n)&&(t.tagList=n)},t.getData=function(){return t.tagList},t.doAdd=function(e){t.addTag()},t.doDel=function(e,n){t.delTag(n)},t._trigger=function(e,n,a,i){switch(n){case"add":"function"==typeof t.onAdd&&t.onAdd(e,t,a);break;case"del":if("function"==typeof t.onDel)return t.onDel(e,t,a,i)}},t.addTag=function(){t.$dialogVm=McAvalon.getVm(t.$dialog_vmidTmp()),t.$dialogVm&&t.$dialogVm.showDialog()},t._addTag=function(e){t.tagList.push(e),t._trigger({},"add",{})},t.delTag=function(n){var a=t._trigger({},"del",{},{tagType:t.tagList[n].tagType,tagValue:t.tagList[n].tagValue});return a===!1?!1:void e.Array.removeAt(t.tagList,n)},t.delTagByVal=function(n){var a=r.find(t.tagList,function(e){return e.tagValue===n});a&&e.Array.remove(t.tagList,a)},t.$dialog_vmid&&McAvalon.$mcPageStore.getDeferred(t.$dialog_vmid).done(function(e){t.$dialogVm=e,e.onSelectadd=function(e,n){t._trigger(e,"add",n)}}),t.getIcon=function(e){return t.iconCodeList[e.tagType]||""}},$ready:function(e,t){McAvalon.$mcPageStore&&McAvalon.$mcPageStore.regist(e),e.onInit(e,t),e.isInit=!1}});var a=e.components["mc:selectadd"];a.regionals={}}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(t,n(2))},function(e,t){e.exports='<div class="mc-form-group mc-selectadd-cotar hf" ms-class-1="mc-selectadd-lg: size==\'large\'"\r\n     ms-class-2="mc-selectadd-sm: size==\'small\'" ms-class-3="mc-loading: isInit">\r\n    <label class="control-label mc-tip fp" ms-if="label != \'\'" ms-css-width="labelSize">{{label}}</label>\r\n    <div class="ftp">\r\n        <div class="hf" ms-if="!noAddBtn && !readonly">\r\n            <div class="mc-add-btn fp" ms-click="doAdd">添加</div>\r\n        </div>\r\n        <div class="mc-tag-show-cotar hf" ms-css-width="width + 80">\r\n            <div class="mc-tag-item fp" ms-repeat="tagList">\r\n                <div class="mc-close-btn" ms-click="doDel($event,$index)" ms-if="!readonly">&times;</div>\r\n                <div class="mc-tag-type iconfont" ms-class="mc-type-{{el.tagType}}" ms-if="el.tagType != \'normal\'">{{getIcon(el) | html}}</div>\r\n                <div class="mc-tag-name" ms-class="mc-type | el.tagType != \'normal\'">{{el.tagName}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(e,t){}])});